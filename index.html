<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#00A9A5">
  <meta name="description" content="MANA DELIVERY - Your trusted local delivery, transport, and service partner">
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiTUFOQSBERUxJVkVSWSIsInNob3J0X25hbWUiOiJNYW5hIiwic3RhcnRfdXJsIjoiLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiMwMEE5QTUiLCJ0aGVtZV9jb2xvciI6IiMwMEE5QTUifQ==">
  <title>MANA DELIVERY - Your Local Service Partner</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f8f9fa;
            overflow-x: hidden;
            width: 100%;
            height: 100%;
        }

        html {
            width: 100%;
            height: 100%;
        }

        /* Custom Theme Variables */
        :root {
            --primary-color: #00A9A5;
            --secondary-color: #0B5351;
            --dark-color: #092327;
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-radius: 12px;
        }

        [data-theme="ocean"] {
            --primary-color: #0077be;
            --secondary-color: #005a8d;
            --dark-color: #003d5c;
        }

        [data-theme="sunset"] {
            --primary-color: #ff6b6b;
            --secondary-color: #c92a2a;
            --dark-color: #7a1616;
        }

        [data-theme="forest"] {
            --primary-color: #51cf66;
            --secondary-color: #37b24d;
            --dark-color: #2b8a3e;
        }

        /* Header Styles */
        .header {
            background: var(--bg-color);
            padding: 12px 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1000;
            width: 100%;
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 10px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }

        .logo {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary-color);
        }

        .brand-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-color);
            letter-spacing: 0.5px;
        }

        .header-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .icon-btn {
            background: var(--primary-color);
            border: none;
            padding: 10px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .icon-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 169, 165, 0.3);
        }

        .icon-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Navigation Bar */
        .nav-bar {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 8px 0;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .nav-bar::-webkit-scrollbar {
            display: none;
        }

        .nav-item {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-weight: 500;
        }

        .nav-item:hover, .nav-item.active {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 169, 165, 0.3);
        }

        /* Main Content */
        .main-content {
            padding-bottom: 80px;
            width: 100%;
        }

        .page {
            display: none;
            animation: fadeIn 0.4s ease-in;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Carousel Styles */
        .carousel-container {
            position: relative;
            width: 100%;
            margin: 16px 0;
            overflow: hidden;
        }

        .carousel {
            display: flex;
            transition: transform 0.5s ease;
            width: 100%;
        }

        .carousel-slide {
            min-width: 100%;
            padding: 0 16px;
        }

        .carousel-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ccc;
            transition: all 0.3s;
            cursor: pointer;
        }

        .dot.active {
            background: var(--primary-color);
            width: 24px;
            border-radius: 4px;
        }

        /* Grid Cards */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 16px;
            width: 100%;
        }

        .service-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 16px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .service-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(0, 169, 165, 0.2);
            border-color: var(--primary-color);
        }

        .service-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 12px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .service-card h3 {
            color: var(--dark-color);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .service-card p {
            color: #666;
            font-size: 11px;
            line-height: 1.4;
        }

        /* Banner Styles */
        .banner-large {
            width: 100%;
            padding: 16px;
        }

        .banner-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .banner-grid {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 12px;
            padding: 0 16px 16px;
        }

        .banner-grid .banner-image {
            height: 140px;
        }

        /* Horizontal Scroll Section */
        .horizontal-section {
            padding: 16px 0;
            width: 100%;
        }

        .section-header {
            padding: 0 16px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-color);
        }

        .view-all {
            color: var(--primary-color);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
        }

        .horizontal-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 0 16px 12px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .horizontal-scroll::-webkit-scrollbar {
            display: none;
        }

        .product-card {
            min-width: 140px;
            background: white;
            border-radius: var(--border-radius);
            padding: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .category-card {
            min-width: 80px;
            max-width: 90px;
            background: white;
            border-radius: var(--border-radius);
            padding: 12px 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .product-card:hover, .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(0, 169, 165, 0.2);
        }

        .category-icon {
            font-size: 36px;
            margin-bottom: 8px;
            display: block;
        }

        .product-image {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .product-card h4 {
            font-size: 13px;
            color: var(--dark-color);
            margin-bottom: 4px;
            font-weight: 600;
        }

        .category-card h4 {
            font-size: 11px;
            color: var(--dark-color);
            font-weight: 600;
            line-height: 1.3;
            word-wrap: break-word;
        }

        .product-card .telugu {
            font-size: 11px;
            color: #888;
            margin-bottom: 6px;
        }

        .product-price {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 8px;
        }

        .quantity-selector select {
            flex: 1;
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 11px;
        }

        .add-to-cart-btn, .wishlist-btn {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 6px;
        }

        .add-to-cart-btn {
            background: var(--primary-color);
            color: white;
        }

        .add-to-cart-btn:hover {
            background: var(--secondary-color);
        }

        .wishlist-btn {
            background: #fff;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        /* Flash Sale Timer */
        .flash-sale-banner {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            padding: 16px;
            margin: 16px;
            border-radius: var(--border-radius);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(255, 82, 82, 0.3);
        }

        .flash-content h3 {
            font-size: 16px;
            margin-bottom: 6px;
        }

        .flash-content p {
            font-size: 12px;
            opacity: 0.9;
        }

        .timer {
            display: flex;
            gap: 8px;
        }

        .timer-unit {
            background: rgba(255,255,255,0.2);
            padding: 8px 10px;
            border-radius: 8px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .timer-unit .number {
            font-size: 18px;
            font-weight: 700;
            display: block;
        }

        .timer-unit .label {
            font-size: 9px;
            opacity: 0.8;
        }

        /* Top Services Section */
        .top-services {
            background: white;
            padding: 20px 16px;
            margin: 16px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .service-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .service-item:hover {
            background: #fff;
            border-color: var(--primary-color);
            transform: translateX(4px);
        }

        .service-item-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .service-item-content h4 {
            font-size: 14px;
            color: var(--dark-color);
            margin-bottom: 4px;
        }

        .service-item-content p {
            font-size: 11px;
            color: #666;
        }

        .book-now-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-left: auto;
            transition: all 0.3s;
        }

        .book-now-btn:hover {
            background: var(--secondary-color);
            transform: scale(1.05);
        }

        /* Testimonials */
        .testimonials-section {
            padding: 16px;
            background: #f8f9fa;
        }

        .testimonial-card {
            background: white;
            padding: 16px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-width: 280px;
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .testimonial-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
        }

        .testimonial-info h4 {
            font-size: 14px;
            color: var(--dark-color);
            margin-bottom: 2px;
        }

        .stars {
            color: #ffd700;
            font-size: 12px;
        }

        .testimonial-text {
            font-size: 13px;
            color: #666;
            line-height: 1.6;
        }

        /* Gallery */
        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 16px;
        }

        .gallery-item {
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Store Page Specific */
        .search-bar {
            padding: 12px 16px;
            background: white;
            position: relative;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .search-input-wrapper {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 40px 12px 40px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 169, 165, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-size: 18px;
        }

        .categories-scroll {
            padding: 12px 16px;
            background: white;
            border-bottom: 1px solid #f0f0f0;
            position: sticky;
            top: 0;
            z-index: 999;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .store-products {
            padding: 16px;
        }

        .category-section {
            margin-bottom: 24px;
        }

        .category-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 12px;
            padding-left: 4px;
            border-left: 4px solid var(--primary-color);
            padding-left: 12px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 12px;
        }

        /* Floating Buttons */
        .floating-actions {
            position: fixed;
            right: 16px;
            bottom: 90px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 999;
        }

        .floating-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 169, 165, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            position: relative;
        }

        .floating-btn:hover {
            transform: scale(1.1);
            background: var(--secondary-color);
        }

        .badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ff5252;
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 11px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
        }

        /* Booking System Styles */
        .booking-container {
            padding: 16px;
        }

        .booking-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .booking-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 12px;
          border-bottom: 2px solid #f0f0f0;
        }

        .booking-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .booking-header h3 {
            font-size: 16px;
            color: var(--dark-color);
        }

        .booking-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }

        .booking-option {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }

        .booking-option:hover, .booking-option.selected {
            border-color: var(--primary-color);
            background: rgba(0, 169, 165, 0.05);
        }

        .booking-option-icon {
            font-size: 28px;
            margin-bottom: 6px;
        }

        .booking-option-text {
            font-size: 12px;
            font-weight: 600;
            color: var(--dark-color);
        }

        .input-group {
            margin-bottom: 14px;
        }

        .input-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 6px;
            display: block;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 169, 165, 0.1);
        }

        .submit-booking-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 8px;
        }

        .submit-booking-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 169, 165, 0.3);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0 8px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 4px 8px;
            border-radius: 8px;
            flex: 1;
            max-width: 80px;
        }

        .bottom-nav-item:hover, .bottom-nav-item.active {
            background: rgba(0, 169, 165, 0.1);
        }

        .bottom-nav-icon {
            width: 24px;
            height: 24px;
            transition: all 0.3s;
        }

        .bottom-nav-icon svg {
            width: 100%;
            height: 100%;
            fill: #666;
            transition: all 0.3s;
        }

        .bottom-nav-item.active .bottom-nav-icon svg {
            fill: var(--primary-color);
        }

        .nav-item svg {
            width: 18px;
            height: 18px;
            fill: white;
            vertical-align: middle;
            margin-right: 6px;
        }

        .bottom-nav-label {
            font-size: 10px;
            color: #666;
            font-weight: 500;
        }

        .bottom-nav-item.active .bottom-nav-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Popup/Modal Styles */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(4px);
            overflow: hidden;
        }

        .popup-overlay.active {
            display: flex;
        }

        /* Freeze body when popup is active */
        body.popup-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        .popup-content {
            background: white;
            border-radius: 20px;
            padding: 28px;
            max-width: 90%;
            width: 340px;
            max-height: 85%;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.4s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .popup-close {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #f0f0f0;
            border: none;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            color: #666;
        }

        .popup-close:hover {
            background: #e0e0e0;
            transform: rotate(90deg);
        }

        .popup-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .popup-icon {
            font-size: 56px;
            margin-bottom: 12px;
        }

        .popup-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 8px;
        }

        .popup-subtitle {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .location-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 16px;
        }

        .location-item {
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
        }

        .location-item:hover, .location-item.selected {
            border-color: var(--primary-color);
            background: rgba(0, 169, 165, 0.05);
            transform: translateX(4px);
        }

        .location-item-icon {
            font-size: 24px;
        }

        .location-item-text {
            flex: 1;
        }

        .location-item-text h4 {
            font-size: 15px;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 2px;
        }

        .location-item-text p {
            font-size: 12px;
            color: #888;
        }

        .success-animation {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #51cf66, #37b24d);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: successPulse 0.6s ease;
        }

        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .success-animation::before {
            content: '‚úì';
            font-size: 48px;
            color: white;
            font-weight: 700;
        }

        /* Refer & Earn Section */
        .refer-earn-section {
            background: linear-gradient(135deg, #ffd700, #ffa500);
            padding: 20px;
            margin: 16px;
            border-radius: var(--border-radius);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 165, 0, 0.3);
        }

        .refer-earn-section h3 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .refer-earn-section p {
            font-size: 13px;
            margin-bottom: 14px;
            opacity: 0.95;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
        }

        .share-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.3);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .share-btn:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Gift & Share Cart */
        .cart-actions {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            background: white;
            border-bottom: 1px solid #f0f0f0;
        }

        .cart-action-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid var(--primary-color);
            background: white;
            color: var(--primary-color);
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cart-action-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: white;
            padding: 24px 16px;
            margin-top: 32px;
        }

        .footer-section {
            margin-bottom: 20px;
        }

        .footer-section h4 {
            font-size: 15px;
            margin-bottom: 12px;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 8px;
            font-size: 13px;
            color: #ccc;
            cursor: pointer;
        }

        .footer-section ul li:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 12px;
            color: #999;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .popup-content {
                width: 480px;
            }
        }

        @media (min-width: 1024px) {
            .grid-container {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .main-content {
                max-width: 1200px;
                margin: 0 auto;
            }
        }

        /* Loading Indicator */
        .loading {
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-more {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #666;
        }

        .loading-more .spinner {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid rgba(0, 169, 165, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 0.8s ease-in-out infinite;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
    </style>
    <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Header -->
  <header class="header">
   <div class="header-top">
    <div class="logo-container"><img src="https://images.unsplash.com/photo-1605902711622-cfb43c4437b5?w=200&amp;h=200&amp;fit=crop" alt="MANA DELIVERY Logo" class="logo">
     <div>
      <div class="brand-name" id="website-name">
       MANA DELIVERY
      </div>
      <div style="font-size: 10px; color: #666; margin-top: 2px;" id="selected-location-text">
       Select Location
      </div>
     </div>
    </div>
    <div class="header-actions"><button class="icon-btn" onclick="makeCall()" title="Call Us">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.17997C2.095 3.90344 2.12787 3.62474 2.21649 3.3616C2.30512 3.09846 2.44756 2.85666 2.63476 2.6516C2.82196 2.44653 3.0498 2.28268 3.30379 2.1705C3.55777 2.05831 3.83233 2.00024 4.10999 1.99997H7.10999C7.5953 1.9952 8.06579 2.16705 8.43376 2.48351C8.80173 2.79996 9.04207 3.23942 9.10999 3.71997C9.23662 4.68004 9.47144 5.6227 9.80999 6.52997C9.94454 6.8879 9.97366 7.27689 9.8939 7.65086C9.81415 8.02482 9.62886 8.36809 9.35999 8.63998L8.08999 9.90997C9.51355 12.4135 11.5864 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0554 17.47 14.19C18.3773 14.5285 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg></button> <button class="icon-btn" onclick="showLocationPopup()" title="Select Location">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg></button> <button class="icon-btn" onclick="showThemeSelector()" title="Change Theme">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.69L13.75 8.82L19.88 10.57L13.75 12.32L12 18.45L10.25 12.32L4.12 10.57L10.25 8.82L12 2.69Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M19 15L20.5 19L24 20.5L20.5 22L19 26L17.5 22L14 20.5L17.5 19L19 15Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M19 3L20.5 7L24 8.5L20.5 10L19 14L17.5 10L14 8.5L17.5 7L19 3Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg></button>
    </div>
   </div>
  </header><!-- Main Content -->
  <main class="main-content"><!-- HOME PAGE -->
   <div id="home" class="page active"><!-- Main Carousel -->
    <div class="carousel-container">
     <div class="carousel" id="main-carousel">
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?w=800&amp;h=400&amp;fit=crop" alt="Delivery Service" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&amp;h=400&amp;fit=crop" alt="Fast Delivery" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=800&amp;h=400&amp;fit=crop" alt="Food Delivery" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=800&amp;h=400&amp;fit=crop" alt="Transport Service" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&amp;h=400&amp;fit=crop" alt="Event Management" class="carousel-image">
      </div>
     </div>
     <div class="carousel-dots" id="carousel-dots"></div>
    </div><!-- Service Cards Grid -->
    <div class="grid-container">
     <div class="service-card" onclick="navigateToPage('store')">
      <div class="service-icon">
       üõí
      </div>
      <h3>Online Store</h3>
      <p>Fresh groceries at today's prices</p>
     </div>
     <div class="service-card" onclick="navigateToPage('delivery')">
      <div class="service-icon">
       üì¶
      </div>
      <h3>Delivery Services</h3>
      <p>Fast &amp; reliable delivery</p>
     </div>
     <div class="service-card" onclick="navigateToPage('transport')">
      <div class="service-icon">
       üöó
      </div>
      <h3>Transport</h3>
      <p>Ride &amp; goods transport</p>
     </div>
     <div class="service-card" onclick="navigateToPage('events')">
      <div class="service-icon">
       üéâ
      </div>
      <h3>Events &amp; Rentals</h3>
      <p>All your event needs</p>
     </div>
     <div class="service-card" onclick="navigateToPage('business')">
      <div class="service-icon">
       üíº
      </div>
      <h3>Business Support</h3>
      <p>Grow your business</p>
     </div>
     <div class="service-card" onclick="navigateToPage('joinus')">
      <div class="service-icon">
       üë•
      </div>
      <h3>Join Our Team</h3>
      <p>Be a partner with us</p>
     </div>
    </div><!-- Large Banner -->
    <div class="banner-large"><img src="https://images.unsplash.com/photo-1607082349566-187342175e2f?w=800&amp;h=360&amp;fit=crop" alt="Special Offers" class="banner-image">
    </div><!-- Grid Banners -->
    <div class="banner-grid"><img src="https://images.unsplash.com/photo-1607083206869-4c7672e72a8a?w=600&amp;h=280&amp;fit=crop" alt="Fast Delivery" class="banner-image"> <img src="https://images.unsplash.com/photo-1607083206325-caf1edba7a0f?w=400&amp;h=280&amp;fit=crop" alt="Best Prices" class="banner-image">
    </div><!-- Small Carousel -->
    <div class="carousel-container">
     <div class="carousel" id="small-carousel">
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&amp;h=400&amp;fit=crop" alt="Quality Products" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1550989460-0adf9ea622e2?w=800&amp;h=400&amp;fit=crop" alt="Fresh Vegetables" class="carousel-image">
      </div>
      <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=800&amp;h=400&amp;fit=crop" alt="Grocery Items" class="carousel-image">
      </div>
     </div>
     <div class="carousel-dots" id="small-carousel-dots"></div>
    </div><!-- Flash Sale Banner -->
    <div class="flash-sale-banner">
     <div class="flash-content">
      <h3 id="flash-sale-text">‚ö° FLASH SALE - 50% OFF</h3>
      <p>Limited time offer on selected items</p>
     </div>
     <div class="timer">
      <div class="timer-unit"><span class="number" id="hours">02</span> <span class="label">HRS</span>
      </div>
      <div class="timer-unit"><span class="number" id="minutes">45</span> <span class="label">MIN</span>
      </div>
      <div class="timer-unit"><span class="number" id="seconds">30</span> <span class="label">SEC</span>
      </div>
     </div>
    </div><!-- Featured Products -->
    <div class="horizontal-section">
     <div class="section-header">
      <h2 class="section-title">Featured Products</h2><a class="view-all" onclick="navigateToPage('store')">View All ‚Üí</a>
     </div>
     <div class="horizontal-scroll">
      <div class="product-card" onclick="addToCart(1)"><img src="https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=300&amp;h=200&amp;fit=crop" alt="Tomato" class="product-image">
       <h4>Fresh Tomatoes</h4>
       <p class="telugu">‡∞ü‡∞Æ‡∞æ‡∞ü‡∞æ</p>
       <div class="product-price">
        At Today's Price
       </div><button class="add-to-cart-btn">Add to Cart</button>
      </div>
      <div class="product-card" onclick="addToCart(2)"><img src="https://images.unsplash.com/photo-1550258987-190a2d41a8ba?w=300&amp;h=200&amp;fit=crop" alt="Potato" class="product-image">
       <h4>Potatoes</h4>
       <p class="telugu">‡∞¨‡∞Ç‡∞ó‡∞æ‡∞≥‡∞æ‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡±Å</p>
       <div class="product-price">
        At Today's Price
       </div><button class="add-to-cart-btn">Add to Cart</button>
      </div>
      <div class="product-card" onclick="addToCart(3)"><img src="https://images.unsplash.com/photo-1589927986089-35812378d916?w=300&amp;h=200&amp;fit=crop" alt="Onion" class="product-image">
       <h4>Fresh Onions</h4>
       <p class="telugu">‡∞âÔøΩÔøΩÔøΩÔøΩ‡∞≤‡∞ø‡∞™‡∞æ‡∞Ø‡∞≤‡±Å</p>
       <div class="product-price">
        At Today's Price
       </div><button class="add-to-cart-btn">Add to Cart</button>
      </div>
      <div class="product-card" onclick="addToCart(4)"><img src="https://images.unsplash.com/photo-1552831388-6a0b3575b32a?w=300&amp;h=200&amp;fit=crop" alt="Carrot" class="product-image">
       <h4>Carrots</h4>
       <p class="telugu">‡∞ï‡±ç‡∞Ø‡∞æ‡∞∞‡±Ü‡∞ü‡±ç‡∞≤‡±Å</p>
       <div class="product-price">
        At Today's Price
       </div><button class="add-to-cart-btn">Add to Cart</button>
      </div>
     </div>
    </div><!-- Offers Banner -->
    <div class="banner-large"><img src="https://images.unsplash.com/photo-1607082350899-7e105aa886ae?w=800&amp;h=360&amp;fit=crop" alt="Special Offers" class="banner-image">
    </div><!-- Top Services -->
    <div class="top-services">
     <h2 class="section-title" style="margin-bottom: 16px;">Top Services</h2>
     <div class="service-item" onclick="initiateBooking('private-delivery')">
      <div class="service-item-icon">
       üöö
      </div>
      <div class="service-item-content">
       <h4>Private Delivery Service</h4>
       <p>Door-to-door delivery for your packages</p>
      </div><button class="book-now-btn">Book Now</button>
     </div>
     <div class="service-item" onclick="initiateBooking('food-delivery')">
      <div class="service-item-icon">
       üçΩÔ∏è
      </div>
      <div class="service-item-content">
       <h4>Hotel Food Delivery</h4>
       <p>Hot meals delivered to your doorstep</p>
      </div><button class="book-now-btn">Book Now</button>
     </div>
     <div class="service-item" onclick="initiateBooking('ecommerce-delivery')">
      <div class="service-item-icon">
       üì¶
      </div>
      <div class="service-item-content">
       <h4>E-commerce Delivery</h4>
       <p>Reliable delivery for online sellers</p>
      </div><button class="book-now-btn">Book Now</button>
     </div>
     <div class="service-item" onclick="initiateBooking('bulk-moving')">
      <div class="service-item-icon">
       üè¢
      </div>
      <div class="service-item-content">
       <h4>Bulk Orders Moving</h4>
       <p>Large quantity transportation</p>
      </div><button class="book-now-btn">Book Now</button>
     </div>
     <div class="service-item" onclick="initiateBooking('packers-movers')">
      <div class="service-item-icon">
       üöõ
      </div>
      <div class="service-item-content">
       <h4>Packers &amp; Movers</h4>
       <p>Complete relocation solutions</p>
      </div><button class="book-now-btn">Book Now</button>
     </div>
    </div><!-- Refer & Earn -->
    <div class="refer-earn-section">
     <h3>üéÅ Refer &amp; Earn <span id="refer-amount">‚Çπ25</span></h3>
     <p>Share our subscription plans with friends and earn rewards!</p>
     <div class="share-buttons"><button class="share-btn" onclick="shareWebsite('whatsapp')">WhatsApp</button> <button class="share-btn" onclick="shareWebsite('general')">Share</button>
     </div>
    </div><!-- Testimonials -->
    <div class="horizontal-section testimonials-section">
     <div class="section-header">
      <h2 class="section-title">What Our Customers Say</h2>
     </div>
     <div class="horizontal-scroll" id="testimonials-scroll">
      <div class="testimonial-card">
       <div class="testimonial-header"><img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&amp;h=100&amp;fit=crop" alt="Customer" class="testimonial-avatar">
        <div class="testimonial-info">
         <h4>Rajesh Kumar</h4>
         <div class="stars">
          ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
         </div>
        </div>
       </div>
       <p class="testimonial-text">"Best delivery service in our area! Very professional and quick. Highly recommended!"</p>
      </div>
      <div class="testimonial-card">
       <div class="testimonial-header"><img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&amp;h=100&amp;fit=crop" alt="Customer" class="testimonial-avatar">
        <div class="testimonial-info">
         <h4>Priya Sharma</h4>
         <div class="stars">
          ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
         </div>
        </div>
       </div>
       <p class="testimonial-text">"Amazing service! The store has everything I need and delivery is always on time."</p>
      </div>
      <div class="testimonial-card">
       <div class="testimonial-header"><img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&amp;h=100&amp;fit=crop" alt="Customer" class="testimonial-avatar">
        <div class="testimonial-info">
         <h4>Vikram Reddy</h4>
         <div class="stars">
          ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
         </div>
        </div>
       </div>
       <p class="testimonial-text">"Their packers and movers service made my relocation stress-free. Great team!"</p>
      </div>
     </div>
    </div><!-- Gallery -->
    <div class="horizontal-section">
     <div class="section-header">
      <h2 class="section-title">Gallery</h2>
     </div>
     <div class="gallery">
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&amp;h=400&amp;fit=crop" alt="Gallery 1">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1607082349566-187342175e2f?w=400&amp;h=400&amp;fit=crop" alt="Gallery 2">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=400&amp;h=400&amp;fit=crop" alt="Gallery 3">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&amp;h=400&amp;fit=crop" alt="Gallery 4">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1550989460-0adf9ea622e2?w=400&amp;h=400&amp;fit=crop" alt="Gallery 5">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=400&amp;h=400&amp;fit=crop" alt="Gallery 6">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=400&amp;h=400&amp;fit=crop" alt="Gallery 7">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&amp;h=400&amp;fit=crop" alt="Gallery 8">
      </div>
      <div class="gallery-item"><img src="https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=400&amp;h=400&amp;fit=crop" alt="Gallery 9">
      </div>
     </div>
    </div>
   </div><!-- STORE PAGE -->
   <div id="store" class="page">
    <div class="search-bar">
     <div class="search-input-wrapper"><span class="search-icon">üîç</span> <input type="text" class="search-input" placeholder="Search for products..." id="store-search" oninput="searchProducts(this.value)">
     </div>
    </div>
    <div class="categories-scroll">
     <div class="horizontal-scroll">
      <div class="category-card" onclick="scrollToCategory('vegetables')"><span class="category-icon">ü•¨</span>
       <h4>Vegetables</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('fruits')"><span class="category-icon">üçé</span>
       <h4>Fruits</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('groceries')"><span class="category-icon">üåæ</span>
       <h4>Groceries</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('snacks')"><span class="category-icon">üçø</span>
       <h4>Snacks</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('dairy')"><span class="category-icon">ü•õ</span>
       <h4>Dairy</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('beverages')"><span class="category-icon">‚òï</span>
       <h4>Beverages</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('bakery')"><span class="category-icon">üçû</span>
       <h4>Bakery</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('personal-care')"><span class="category-icon">üß¥</span>
       <h4>Personal Care</h4>
      </div>
      <div class="category-card" onclick="scrollToCategory('household')"><span class="category-icon">üßπ</span>
       <h4>Household</h4>
      </div>
     </div>
    </div>
    <div class="store-products" id="store-products"><!-- Products will be dynamically generated -->
                                    </div>
         </div><!-- DELIVERY PAGE -->
   <div id="delivery" class="page">
    <div class="booking-container">
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        ÔøΩÔøΩÔøΩÔøΩ
       </div>
       <h3>Parcel &amp; Package Delivery</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectDeliveryType('parcel')">
        <div class="booking-option-icon">
         üì¶
        </div>
        <div class="booking-option-text">
         Small Parcel
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('large')">
        <div class="booking-option-icon">
         üì¶üì¶
        </div>
        <div class="booking-option-text">
         Large Package
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('bulk')">
        <div class="booking-option-icon">
         üöõ
        </div>
        <div class="booking-option-text">
         Bulk Items
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('express')">
        <div class="booking-option-icon">
         ‚ö°
        </div>
        <div class="booking-option-text">
         Express
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookDelivery('parcel')">Book Delivery Service</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üöö
       </div>
       <h3>Packers &amp; Movers</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectDeliveryType('home-shifting')">
        <div class="booking-option-icon">
         üè†
        </div>
        <div class="booking-option-text">
         Home Shifting
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('office')">
        <div class="booking-option-icon">
         üè¢
        </div>
        <div class="booking-option-text">
         Office Moving
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('furniture')">
        <div class="booking-option-icon">
         üõãÔ∏è
        </div>
        <div class="booking-option-text">
         Furniture
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('goods')">
        <div class="booking-option-icon">
         üì¶
        </div>
        <div class="booking-option-text">
         Goods Transport
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookDelivery('packers')">Book Packers &amp; Movers</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üîÑ
       </div>
       <h3>Delivery Routes</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectDeliveryType('home-to-shop')">
        <div class="booking-option-icon">
         üè†ÔøΩÔøΩÔøΩÔøΩÔøΩüè™
        </div>
        <div class="booking-option-text">
         Home to Shop
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('shop-to-home')">
        <div class="booking-option-icon">
         üè™‚Üíüè†
        </div>
        <div class="booking-option-text">
         Shop to Home
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('home-to-home')">
        <div class="booking-option-icon">
         üè†‚Üíüè†
        </div>
        <div class="booking-option-text">
         Home to Home
        </div>
       </div>
       <div class="booking-option" onclick="selectDeliveryType('shop-to-shop')">
        <div class="booking-option-icon">
         üè™‚Üíüè™
        </div>
        <div class="booking-option-text">
         Shop to Shop
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookDelivery('route')">Book Delivery Route</button>
     </div>
     <div class="banner-large"><img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&amp;h=360&amp;fit=crop" alt="Delivery Services" class="banner-image">
     </div>
    </div>
   </div><!-- TRANSPORT PAGE -->
   <div id="transport" class="page">
    <div class="booking-container">
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        ÔøΩÔøΩ
       </div>
       <h3>Local Public Transport</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectTransportType('auto')">
        <div class="booking-option-icon">
         ÔøΩÔøΩ
        </div>
        <div class="booking-option-text">
         Auto Rickshaw
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('bike')">
        <div class="booking-option-icon">
         üèçÔ∏è
        </div>
        <div class="booking-option-text">
         Bike Taxi
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('car')">
        <div class="booking-option-icon">
         üöó
        </div>
        <div class="booking-option-text">
         Car Booking
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('bus')">
        <div class="booking-option-icon">
         üöå
        </div>
        <div class="booking-option-text">
         Mini Bus
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookTransport('local')">Book Ride Now</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        ‚úàÔ∏è
       </div>
       <h3>Tours &amp; Travels</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectTransportType('one-day')">
        <div class="booking-option-icon">
         üåÖ
        </div>
        <div class="booking-option-text">
         One Day Trip
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('popular')">
        <div class="booking-option-icon">
         üó∫Ô∏è
        </div>
        <div class="booking-option-text">
         Popular Places
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('marriage')">
        <div class="booking-option-icon">
         üíí
        </div>
        <div class="booking-option-text">
         Marriage Booking
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('photoshoot')">
        <div class="booking-option-icon">
         üì∏
        </div>
        <div class="booking-option-text">
         Photoshoot
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookTransport('tours')">Book Tour Package</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üöò
       </div>
       <h3>Self Driving Cars</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectTransportType('sedan')">
        <div class="booking-option-icon">
         üöó
        </div>
        <div class="booking-option-text">
         Sedan
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('suv')">
        <div class="booking-option-icon">
         üöô
        </div>
        <div class="booking-option-text">
         SUV
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('luxury')">
        <div class="booking-option-icon">
         üèéÔ∏è
        </div>
        <div class="booking-option-text">
         Luxury Car
        </div>
       </div>
       <div class="booking-option" onclick="selectTransportType('mini-van')">
        <div class="booking-option-icon">
         üöê
        </div>
        <div class="booking-option-text">
         Mini Van
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookTransport('self-drive')">Book Self Drive</button>
     </div>
     <div class="banner-large"><img src="https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=800&amp;h=360&amp;fit=crop" alt="Transport Services" class="banner-image">
     </div>
    </div>
   </div><!-- EVENTS PAGE -->
   <div id="events" class="page">
    <div class="booking-container">
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üéâ
       </div>
       <h3>Event Management</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectEventType('birthday')">
        <div class="booking-option-icon">
         üéÇ
        </div>
        <div class="booking-option-text">
         Birthday Party
        </div>
       </div>
       <div class="booking-option" onclick="selectEventType('wedding')">
        <div class="booking-option-icon">
         üíí
        </div>
        <div class="booking-option-text">
         Wedding
        </div>
       </div>
       <div class="booking-option" onclick="selectEventType('corporate')">
        <div class="booking-option-icon">
         üè¢
        </div>
        <div class="booking-option-text">
         Corporate Event
        </div>
       </div>
       <div class="booking-option" onclick="selectEventType('festival')">
        <div class="booking-option-icon">
         üéä
        </div>
        <div class="booking-option-text">
         Festival
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookEvent('management')">Book Event Service</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üö≤
       </div>
       <h3>Rental Services</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectRentalType('bike')">
        <div class="booking-option-icon">
         üèçÔ∏è
        </div>
        <div class="booking-option-text">
         Bike Rental
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('car')">
        <div class="booking-option-icon">
         üöó
        </div>
        <div class="booking-option-text">
         Car Rental
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('ornament')">
        <div class="booking-option-icon">
         üíç
        </div>
        <div class="booking-option-text">
         Ornaments
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('tent')">
        <div class="booking-option-icon">
         ‚õ∫
        </div>
        <div class="booking-option-text">
         Tent &amp; Chairs
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('sound')">
        <div class="booking-option-icon">
         üîä
        </div>
        <div class="booking-option-text">
         Sound System
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('decoration')">
        <div class="booking-option-icon">
         ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
        </div>
        <div class="booking-option-text">
         Decorations
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('catering')">
        <div class="booking-option-icon">
         ÔøΩÔøΩÔøΩÔ∏è
        </div>
        <div class="booking-option-text">
         Catering Items
        </div>
       </div>
       <div class="booking-option" onclick="selectRentalType('camera')">
        <div class="booking-option-icon">
         üì∑
        </div>
        <div class="booking-option-text">
         Camera &amp; Lights
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookEvent('rental')">Book Rental Service</button>
     </div>
     <div class="banner-large"><img src="https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&amp;h=360&amp;fit=crop" alt="Event Services" class="banner-image">
     </div>
    </div>
   </div><!-- BUSINESS PAGE -->
   <div id="business" class="page">
    <div class="booking-container">
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üì¶
       </div>
       <h3>E-commerce Delivery Support</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectBusinessType('ecommerce')">
        <div class="booking-option-icon">
         üõí
        </div>
        <div class="booking-option-text">
         Online Store
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('retail')">
        <div class="booking-option-icon">
         üè™
        </div>
        <div class="booking-option-text">
         Retail Shops
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('restaurant')">
        <div class="booking-option-icon">
         üçΩÔ∏è
        </div>
        <div class="booking-option-text">
         Restaurants
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('manufacturing')">
        <div class="booking-option-icon">
         üè≠
        </div>
        <div class="booking-option-text">
         Manufacturing
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookBusiness('delivery')">Get Delivery Support</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üíº
       </div>
       <h3>Business Growth Services</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectBusinessType('website')">
        <div class="booking-option-icon">
         üåê
        </div>
        <div class="booking-option-text">
         Website Design
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('digital')">
        <div class="booking-option-icon">
         üì±
        </div>
        <div class="booking-option-text">
         Digital Marketing
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('seo')">
        <div class="booking-option-icon">
         ÔøΩÔøΩÔøΩ
        </div>
        <div class="booking-option-text">
         SEO Services
        </div>
       </div>
       <div class="booking-option" onclick="selectBusinessType('offline')">
        <div class="booking-option-icon">
         üì¢
          </div>
        <div class="booking-option-text">
         Offline Support
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="bookBusiness('growth')">Request Services</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üöö
       </div>
       <h3>Private Delivery Services</h3>
      </div>
      <p style="font-size: 13px; color: #666; margin-bottom: 16px;">Dedicated delivery solutions for your business with flexible pricing and reliable service.</p><button class="submit-booking-btn" onclick="bookBusiness('private')">Request Quote</button>
     </div>
     <div class="banner-large"><img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?w=800&amp;h=360&amp;fit=crop" alt="Business Services" class="banner-image">
     </div>
    </div>
   </div><!-- JOIN US PAGE -->
   <div id="joinus" class="page">
    <div class="booking-container">
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üèçÔ∏è
       </div>
       <h3>Join as Delivery Partner</h3>
      </div>
      <p style="font-size: 13px; color: #666; margin-bottom: 16px;">Become a delivery rider and earn flexible income. No fixed hours, work at your convenience!</p>
      <div class="booking-options">
       <div class="booking-option" onclick="selectJoinType('rider')">
        <div class="booking-option-icon">
         üèçÔ∏è
        </div>
        <div class="booking-option-text">
         Bike Rider
        </div>
       </div>
       <div class="booking-option" onclick="selectJoinType('delivery-boy')">
        <div class="booking-option-icon">
         üì¶
        </div>
        <div class="booking-option-text">
         Delivery Boy
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="joinPartner('delivery')">Apply Now</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        üè™
       </div>
       <h3>Join as Business Partner</h3>
      </div>
      <div class="booking-options">
       <div class="booking-option" onclick="selectJoinType('vendor')">
        <div class="booking-option-icon">
         üë®‚Äçüíº
        </div>
        <div class="booking-option-text">
         Vendor
        </div>
       </div>
       <div class="booking-option" onclick="selectJoinType('shop-owner')">
        <div class="booking-option-icon">
         üè™
        </div>
        <div class="booking-option-text">
         Shop Owner
        </div>
       </div>
       <div class="booking-option" onclick="selectJoinType('seller')">
        <div class="booking-option-icon">
         üõí
        </div>
        <div class="booking-option-text">
         Online Seller
        </div>
       </div>
       <div class="booking-option" onclick="selectJoinType('professional')">
        <div class="booking-option-icon">
         üë∑
        </div>
        <div class="booking-option-text">
         Professional
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="joinPartner('business')">Register Business</button>
     </div>
     <div class="booking-card">
      <div class="booking-header">
       <div class="booking-icon">
        ü§ù
       </div>
       <h3>Dealership &amp; Franchise</h3>
      </div>
      <p style="font-size: 13px; color: #666; margin-bottom: 16px;">Start your own MANA DELIVERY franchise in your area and become an entrepreneur!</p>
      <div class="booking-options">
       <div class="booking-option" onclick="selectJoinType('dealership')">
        <div class="booking-option-icon">
         üè¢
        </div>
        <div class="booking-option-text">
         Dealership
        </div>
       </div>
       <div class="booking-option" onclick="selectJoinType('franchise')">
        <div class="booking-option-icon">
         üåü
        </div>
        <div class="booking-option-text">
         Franchise
        </div>
       </div>
      </div><button class="submit-booking-btn" onclick="joinPartner('dealership')">Get Details</button>
     </div>
     <div class="banner-large"><img src="https://images.unsplash.com/photo-1521791136064-7986c2920216?w=800&amp;h=360&amp;fit=crop" alt="Join Our Team" class="banner-image">
     </div>
    </div><!-- Footer -->
    <footer class="footer">
     <div class="footer-section">
      <h4>About MANA DELIVERY</h4>
      <p style="font-size: 13px; color: #ccc; line-height: 1.6;">Your trusted local service partner for delivery, transport, events, and business support. Serving communities with dedication and reliability.</p>
     </div>
     <div class="footer-section">
      <h4>Quick Links</h4>
      <ul>
       <li onclick="showPopup('terms')">Terms &amp; Conditions</li>
       <li onclick="showPopup('privacy')">Privacy Policy</li>
       <li onclick="showPopup('return')">Return Policy</li>
       <li onclick="showPopup('disclaimer')">Disclaimer</li>
      </ul>
     </div>
     <div class="footer-section">
      <h4>Contact Us</h4>
      <ul>
       <li>üìû 7799086877</li>
       <li>üìû 7993477015</li>
       <li>üåê www.mana.delivery</li>
       <li>‚úâÔ∏è support@mana.delivery</li>
      </ul>
     </div>
     <div class="footer-bottom">
      <p>¬© 2024 MANA DELIVERY. All rights reserved.</p>
     </div>
    </footer>
   </div>
  </main><!-- Floating Action Buttons -->
  <div class="floating-actions"><button class="floating-btn" onclick="toggleWishlist()" title="Wishlist"> ‚ù§Ô∏è <span class="badge" id="wishlist-count">0</span> </button> <button class="floating-btn" onclick="toggleCart()" title="Cart">
    <svg width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1" /> <circle cx="20" cy="21" r="1" /> <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
    </svg><span class="badge" id="cart-count">0</span> </button>
  </div><!-- Bottom Navigation -->
  <nav class="bottom-nav">
   <div class="bottom-nav-item active" onclick="navigateToPage('home')">
    <div class="bottom-nav-icon">
     <svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 22V12H15V22" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
     </svg>
    </div>
    <div class="bottom-nav-label">
     Home
    </div>
   </div>
   <div class="bottom-nav-item" onclick="navigateToPage('store')">
    <div class="bottom-nav-icon">
     <svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="9" cy="21" r="1" stroke-width="2" /> <circle cx="20" cy="21" r="1" stroke-width="2" /> <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
     </svg>
    </div>
    <div class="bottom-nav-label">
     Store
    </div>
   </div>
   <div class="bottom-nav-item" onclick="navigateToPage('delivery')">
    <div class="bottom-nav-icon">
     <svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 8V16C21 16.5304 20.7893 17.0391 20.4142 17.4142C20.0391 17.7893 19.5304 18 19 18H5C4.46957 18 3.96086 17.7893 3.58579 17.4142C3.21071 17.0391 3 16.5304 3 16V8M21 8L12 13L3 8M21 8L12 3L3 8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
     </svg>
    </div>
    <div class="bottom-nav-label">
     Delivery
    </div>
   </div>
   <div class="bottom-nav-item" onclick="navigateToPage('transport')">
    <div class="bottom-nav-icon">
     <svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 17H4C3.46957 17 2.96086 16.7893 2.58579 16.4142C2.21071 16.0391 2 15.5304 2 15V7C2 5.89543 2.89543 5 4 5H16C17.1046 5 18 5.89543 18 7V8M5 17C5 18.6569 6.34315 20 8 20C9.65685 20 11 18.6569 11 17M5 17C5 15.3431 6.34315 14 8 14C9.65685 14 11 15.3431 11 17M18 8H20L22 11V15C22 15.5304 21.7893 16.0391 21.4142 16.4142C21.0391 16.7893 20.5304 17 20 17H19M18 8V17M18 17C18 18.6569 16.6569 20 15 20C13.3431 20 12 18.6569 12 17M18 17C18 15.3431 16.6569 14 15 14C13.3431 14 12 15.3431 12 17" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
     </svg>
    </div>
    <div class="bottom-nav-label">
     Transport
    </div>
   </div>
   <div class="bottom-nav-item" onclick="navigateToPage('events')">
    <div class="bottom-nav-icon">
     <svg viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
     </svg>
    </div>
    <div class="bottom-nav-label">
     Events
    </div>
   </div>
  </nav><!-- Popups --> <!-- Welcome Popup -->
  <div class="popup-overlay active" id="welcome-popup">
   <div class="popup-content">
    <div class="popup-header"><img src="https://images.unsplash.com/photo-1605902711622-cfb43c4437b5?w=200&amp;h=200&amp;fit=crop" alt="MANA DELIVERY" style="width: 100px; height: 100px; border-radius: 50%; margin: 0 auto 16px; border: 4px solid var(--primary-color); box-shadow: 0 4px 12px rgba(0, 169, 165, 0.3);">
     <h2 class="popup-title" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Welcome to MANA DELIVERY!</h2>
     <p class="popup-subtitle" style="font-size: 15px; line-height: 1.6;">Your trusted local service partner for all your delivery, transport, and event needs across <strong>Nirmal District</strong>.</p>
     <div style="background: linear-gradient(135deg, rgba(0, 169, 165, 0.1), rgba(11, 83, 81, 0.1)); padding: 12px; border-radius: 10px; margin-top: 16px; border-left: 4px solid var(--primary-color);">
      <p style="font-size: 13px; color: var(--dark-color); margin: 0; font-weight: 500;">üåü Serving 15+ locations<br>
        ‚ö° Fast &amp; Reliable Service<br>
        üì± WhatsApp Based Booking</p>
     </div>
    </div><button class="submit-booking-btn" onclick="closeWelcomeAndShowLocation()">üìç Select Your Location</button>
   </div>
  </div><!-- Location Selection Popup -->
  <div class="popup-overlay" id="location-popup">
   <div class="popup-content" style="max-width: 95%; max-height: 85%;"><button class="popup-close" onclick="closePopup('location-popup')">√ó</button>
    <div class="popup-header"><img src="https://images.unsplash.com/photo-1605902711622-cfb43c4437b5?w=200&amp;h=200&amp;fit=crop" alt="MANA DELIVERY Logo" style="width: 90px; height: 90px; border-radius: 50%; margin: 0 auto 16px; border: 4px solid var(--primary-color); box-shadow: 0 6px 24px rgba(0, 169, 165, 0.4);">
     <h2 class="popup-title" style="font-size: 22px; margin-bottom: 8px;">Select Your Location</h2>
     <p class="popup-subtitle" style="font-size: 14px; margin-bottom: 8px;">Nirmal District, Telangana</p>
     <div style="background: linear-gradient(135deg, rgba(0, 169, 165, 0.1), rgba(11, 83, 81, 0.1)); padding: 10px 16px; border-radius: 10px; margin-top: 12px;">
      <p style="font-size: 12px; color: var(--dark-color); margin: 0; display: flex; align-items: center; justify-content: center; gap: 8px;"><span style="font-size: 16px;">üì±</span> <span><strong>Smart WhatsApp Integration</strong> - Each location has dedicated support</span></p>
     </div>
    </div>
    <div style="margin: 16px 0 12px; padding: 0 4px;"><input type="text" id="location-search" class="input-field" placeholder="üîç Search your location or mandal..." oninput="filterLocations(this.value)" style="width: 100%; padding: 12px 16px; font-size: 14px; border-radius: 25px; border: 2px solid #e0e0e0;">
    </div>
    <div class="location-list" id="location-list" style="max-height: 450px; overflow-y: auto; padding-right: 4px;"><!-- Locations will be dynamically populated -->
    </div>
   </div>
  </div><!-- Success Popup -->
  <div class="popup-overlay" id="success-popup">
   <div class="popup-content"><button class="popup-close" onclick="closePopup('success-popup')">√ó</button>
    <div class="success-animation"></div>
    <div class="popup-header">
     <h2 class="popup-title" id="success-title">Success!</h2>
     <p class="popup-subtitle" id="success-message">Your request has been received.</p>
    </div>
   </div>
  </div><!-- Cart Popup -->
  <div class="popup-overlay" id="cart-popup">
   <div class="popup-content"><button class="popup-close" onclick="closePopup('cart-popup')">√ó</button>
    <div class="popup-header">
     <div class="popup-icon">
      üõí
     </div>
     <h2 class="popup-title">Shopping Cart</h2>
    </div>
    <div class="cart-actions"><button class="cart-action-btn" onclick="shareCart()">ÔøΩÔøΩ Share Cart</button> <button class="cart-action-btn" onclick="giftCart()">üéÅ Gift Now</button>
    </div>
    <div id="cart-items" style="margin: 16px 0;"><!-- Cart items will be shown here -->
    </div><button class="submit-booking-btn" onclick="checkout()">Proceed to Checkout</button>
   </div>
  </div><!-- Theme Selector Popup -->
  <div class="popup-overlay" id="theme-popup">
   <div class="popup-content"><button class="popup-close" onclick="closePopup('theme-popup')">√ó</button>
    <div class="popup-header">
     <div class="popup-icon">
      üé®
     </div>
     <h2 class="popup-title">Choose Theme</h2>
    </div>
    <div class="location-list">
     <div class="location-item" onclick="changeTheme('default')">
      <div class="location-item-icon" style="color: #00A9A5;">
       ‚óè
      </div>
      <div class="location-item-text">
       <h4>Default (Teal)</h4>
       <p>Original MANA DELIVERY theme</p>
      </div>
     </div>
     <div class="location-item" onclick="changeTheme('ocean')">
      <div class="location-item-icon" style="color: #0077be;">
       ‚óè
      </div>
      <div class="location-item-text">
       <h4>Ocean Blue</h4>
       <p>Cool and professional</p>
      </div>
     </div>
     <div class="location-item" onclick="changeTheme('sunset')">
      <div class="location-item-icon" style="color: #ff6b6b;">
       ‚óè
      </div>
      <div class="location-item-text">
       <h4>Sunset Red</h4>
       <p>Warm and energetic</p>
      </div>
     </div>
     <div class="location-item" onclick="changeTheme('forest')">
      <div class="location-item-icon" style="color: #51cf66;">
       ‚óè
      </div>
      <div class="location-item-text">
       <h4>Forest Green</h4>
       <p>Natural and fresh</p>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Info Popups -->
  <div class="popup-overlay" id="info-popup">
   <div class="popup-content"><button class="popup-close" onclick="closePopup('info-popup')">√ó</button>
    <div class="popup-header">
     <h2 class="popup-title" id="info-title">Information</h2>
    </div>
    <div id="info-content" style="font-size: 13px; color: #666; line-height: 1.8; text-align: left;"><!-- Content will be dynamically filled -->
    </div>
   </div>
  </div><!-- Location Required Popup -->
  <div class="popup-overlay" id="location-warning-popup" style="z-index: 10001;">
   <div class="popup-content"><button class="popup-close" onclick="closePopup('location-warning-popup')">√ó</button>
    <div class="popup-header">
     <div class="popup-icon">
      üìç
     </div>
     <h2 class="popup-title">Enable Location Access</h2>
     <p class="popup-subtitle" id="location-warning-message">We need your location to provide accurate delivery service to your area.</p>
     <p class="popup-subtitle" style="font-weight: 500; margin-top: 12px; color: #666; font-size: 12px;" id="location-attempts-left"></p>
    </div><button class="submit-booking-btn" onclick="retryLocationAccess()">üì° Allow Location Access</button> <button class="submit-booking-btn" style="background: #999; margin-top: 8px; display: none;" id="proceed-without-location" onclick="proceedWithoutLocation()">Continue Without Location</button>
   </div>
  </div><!-- Booking Form Popup -->
  <div class="popup-overlay" id="booking-form-popup">
   <div class="popup-content" style="max-width: 95%; max-height: 90%;"><button class="popup-close" onclick="closePopup('booking-form-popup')">√ó</button>
    <div class="popup-header">
     <div class="popup-icon" id="booking-form-icon">
      üìã
     </div>
     <h2 class="popup-title" id="booking-form-title">Complete Your Booking</h2>
     <p class="popup-subtitle">Fill in your details to proceed</p>
    </div>
    <form id="booking-form" style="margin-top: 16px;"><!-- Customer Details Section -->
     <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span>üë§</span> Customer Details</h3>
      <div class="input-group"><label class="input-label" for="customer-name">Full Name *</label> <input type="text" id="customer-name" class="input-field" placeholder="Enter your full name" required>
      </div>
      <div class="input-group"><label class="input-label" for="customer-phone">Phone Number *</label> <input type="tel" id="customer-phone" class="input-field" placeholder="Enter 10-digit mobile number" pattern="[0-9]{10}" required>
      </div>
      <div class="input-group"><label class="input-label" for="customer-email">Email (Optional)</label> <input type="email" id="customer-email" class="input-field" placeholder="your@email.com">
      </div>
      <div class="input-group"><label class="input-label" for="customer-address">Complete Address *</label> <textarea id="customer-address" class="input-field" rows="3" placeholder="House/Flat No, Building Name, Street, Landmark" required></textarea>
      </div>
     </div><!-- Service/Order Details Section -->
     <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span id="service-icon">üì¶</span> <span id="service-title">Service Details</span></h3>
      <div class="input-group"><label class="input-label" for="service-type">Service Type *</label> <input type="text" id="service-type" class="input-field" readonly>
      </div>
      <div class="input-group" id="service-date-group"><label class="input-label" for="service-date">Preferred Date *</label> <input type="date" id="service-date" class="input-field" required>
      </div>
      <div class="input-group" id="service-time-group"><label class="input-label" for="service-time">Preferred Time *</label> <input type="time" id="service-time" class="input-field" required>
      </div>
      <div class="input-group"><label class="input-label" for="service-notes">Additional Notes</label> <textarea id="service-notes" class="input-field" rows="3" placeholder="Any special instructions or requirements"></textarea>
      </div>
     </div><!-- Location Details Section -->
     <div style="background: #e8f5ff; padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 2px solid var(--primary-color);">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span>üìç</span> Live Location Details</h3>
      <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
       <div style="flex: 1; padding: 12px; background: white; border-radius: 8px; text-align: center;"><span id="location-btn-text" style="font-size: 14px; font-weight: 600; color: var(--primary-color);"> <span class="loading"></span> Capturing Location... </span>
       </div>
      </div>
      <div id="location-details" style="display: none;">
       <div style="background: white; padding: 12px; border-radius: 8px; margin-bottom: 8px;">
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>Selected Area:</strong> <span id="loc-area">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>üìä Coordinates:</strong> <span id="loc-coords">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>ÔøΩÔøΩÔøΩÔøΩ Accuracy:</strong> <span id="loc-accuracy">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>‚õ∞Ô∏è Altitude:</strong> <span id="loc-altitude">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>‚ö° Speed:</strong> <span id="loc-speed">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>üß≠ Heading:</strong> <span id="loc-heading">-</span>
        </div>
        <div style="font-size: 12px; color: #666;"><strong>üó∫Ô∏è Map:</strong> <a id="loc-map-link" href="#" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color); text-decoration: underline;">View on Google Maps</a>
        </div>
       </div>
      </div>
      <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin-top: 12px; border-left: 4px solid #ffc107;">
       <p style="font-size: 11px; color: #856404; margin: 0; line-height: 1.4;"><strong>‚ÑπÔ∏è Location Disclaimer:</strong> We will use your location for accurate and fast service delivery.</p>
      </div>
     </div><button type="submit" class="submit-booking-btn" style="font-size: 16px;"> <span id="submit-btn-text">üì± Send Booking via WhatsApp</span> </button>
    </form>
   </div>
  </div><!-- Cart Details Form Popup -->
  <div class="popup-overlay" id="cart-form-popup">
   <div class="popup-content" style="max-width: 95%; max-height: 90%;"><button class="popup-close" onclick="closePopup('cart-form-popup')">√ó</button>
    <div class="popup-header">
     <div class="popup-icon">
      üõí
     </div>
     <h2 class="popup-title">Complete Your Order</h2>
     <p class="popup-subtitle">Fill in delivery details</p>
    </div>
    <form id="cart-form" style="margin-top: 16px;"><!-- Customer Details -->
     <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span>üë§</span> Delivery Details</h3>
      <div class="input-group"><label class="input-label" for="cart-customer-name">Full Name *</label> <input type="text" id="cart-customer-name" class="input-field" placeholder="Enter your full name" required>
      </div>
      <div class="input-group"><label class="input-label" for="cart-customer-phone">Phone Number *</label> <input type="tel" id="cart-customer-phone" class="input-field" placeholder="Enter 10-digit mobile number" pattern="[0-9]{10}" required>
      </div>
      <div class="input-group"><label class="input-label" for="cart-customer-address">Delivery Address *</label> <textarea id="cart-customer-address" class="input-field" rows="3" placeholder="Complete delivery address with landmark" required></textarea>
      </div>
      <div class="input-group"><label class="input-label" for="cart-delivery-time">Preferred Delivery Time</label> <select id="cart-delivery-time" class="input-field"> <option value="asap">As Soon As Possible</option> <option value="morning">Morning (8 AM - 12 PM)</option> <option value="afternoon">Afternoon (12 PM - 4 PM)</option> <option value="evening">Evening (4 PM - 8 PM)</option> </select>
      </div>
      <div class="input-group"><label class="input-label" for="cart-notes">Special Instructions</label> <textarea id="cart-notes" class="input-field" rows="2" placeholder="Any special delivery instructions"></textarea>
      </div>
     </div><!-- Cart Items Summary -->
     <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span>üõçÔ∏è</span> Order Summary</h3>
      <div id="cart-summary" style="font-size: 13px; color: #666;">
       <p><strong>Total Items:</strong> <span id="cart-total-items">0</span></p>
       <p style="margin-top: 8px;"><strong>Note:</strong> Final prices will be confirmed via WhatsApp</p>
      </div>
     </div><!-- Location Details -->
     <div style="background: #e8f5ff; padding: 16px; border-radius: 12px; margin-bottom: 16px; border: 2px solid var(--primary-color);">
      <h3 style="font-size: 16px; font-weight: 700; color: var(--dark-color); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;"><span>üìç</span> Delivery Location</h3>
      <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
       <div style="flex: 1; padding: 12px; background: white; border-radius: 8px; text-align: center;"><span id="cart-location-btn-text" style="font-size: 14px; font-weight: 600; color: var(--primary-color);"> <span class="loading"></span> Capturing Location... </span>
       </div>
      </div>
      <div id="cart-location-details" style="display: none;">
       <div style="background: white; padding: 12px; border-radius: 8px;">
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>Selected Area:</strong> <span id="cart-loc-area">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>üìä Coordinates:</strong> <span id="cart-loc-coords">-</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-bottom: 8px;"><strong>üéØ Accuracy:</strong> <span id="cart-loc-accuracy">-</span>
        </div>
        <div style="font-size: 12px; color: #666;"><strong>üó∫Ô∏è Map:</strong> <a id="cart-loc-map-link" href="#" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color); text-decoration: underline;">View on Google Maps</a>
        </div>
       </div>
      </div>
      <div style="background: #fff3cd; padding: 10px; border-radius: 8px; margin-top: 12px; border-left: 4px solid #ffc107;">
       <p style="font-size: 11px; color: #856404; margin: 0; line-height: 1.4;"><strong>‚ÑπÔ∏è Location Disclaimer:</strong> We will use your location for accurate and fast service delivery.</p>
      </div>
     </div><button type="submit" class="submit-booking-btn" style="font-size: 16px;"> üì± Send Order via WhatsApp </button>
    </form>
   </div>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            website_name: 'MANA DELIVERY',
            tagline: 'Your Trusted Local Service Partner',
            flash_sale_text: '‚ö° FLASH SALE - 50% OFF',
            refer_earn_amount: 'ÔøΩÔøΩ25'
        };

        // Nirmal District Location-based WhatsApp numbers
        const locations = [
            // Main Head Location - Khanapur (Default)
            { id: 6, name: 'Khanapur', area: 'Khanapur Town - Head Office', mandal: 'Khanapur', phone: '7993477015', icon: 'üèõÔ∏è' },
            
            // Nirmal Town Areas
            { id: 1, name: 'Nirmal Town', area: 'Main City Center', mandal: 'Nirmal', phone: '7799086877', icon: 'üèôÔ∏è' },
            { id: 2, name: 'Nirmal Bus Stand', area: 'Central Bus Station Area', mandal: 'Nirmal', phone: '7993477015', icon: 'üöå' },
            { id: 3, name: 'Sarangpur', area: 'Sarangpur Area', mandal: 'Nirmal', phone: '7799086877', icon: 'üèòÔ∏è' },
            { id: 4, name: 'Laxminagar', area: 'Laxminagar Colony', mandal: 'Nirmal', phone: '7993477015', icon: 'üè°' },
            
            // Major Mandals
            { id: 5, name: 'Bhainsa', area: 'Bhainsa Town', mandal: 'Bhainsa', phone: '7799086877', icon: 'üèòÔ∏è' },
            { id: 7, name: 'Mamda', area: 'Mamda Village', mandal: 'Mamda', phone: '7799086877', icon: 'üåæ' },
            { id: 8, name: 'Kuntala', area: 'Kuntala (Waterfall Area)', mandal: 'Kuntala', phone: '7993477015', icon: 'üíß' },
            { id: 9, name: 'Kubeer', area: 'Kubeer Town', mandal: 'Kubeer', phone: '7799086877', icon: 'üèòÔ∏è' },
            { id: 10, name: 'Dilawarpur', area: 'Dilawarpur Village', mandal: 'Dilawarpur', phone: '7993477015', icon: 'üåæ' },
            
            // Additional Areas
            { id: 11, name: 'Tanoor', area: 'Tanoor Village', mandal: 'Tanoor', phone: '7799086877', icon: 'üèûÔ∏è' },
            { id: 12, name: 'Laxmanchanda', area: 'Laxmanchanda Area', mandal: 'Laxmanchanda', phone: '7993477015', icon: 'üå≥' },
            { id: 13, name: 'Kasipet', area: 'Kasipet Town', mandal: 'Kasipet', phone: '7799086877', icon: 'üèòÔ∏è' },
            { id: 14, name: 'Dandepally', area: 'Dandepally Village', mandal: 'Dandepally', phone: '7993477015', icon: 'üåæ' },
            { id: 15, name: 'Basar', area: 'Basar (Temple Town)', mandal: 'Basar', phone: '7799086877', icon: 'üõï' }
        ];

        let selectedLocation = null;
        let currentPage = 'home';
        let cartItems = [];
        let wishlistItems = [];
        let userLocation = null;
        let locationAttempts = 0;
        const MAX_LOCATION_ATTEMPTS = 3;
        
        // Set default location to Khanapur on page load
        const DEFAULT_LOCATION_ID = 6; // Khanapur
        
        // Infinite scroll state
        let displayedCategories = [];
        let currentCategoryIndex = 0;
        let isLoadingMore = false;

        // Store Products Data
        const storeCategories = {
            'vegetables': [
                { id: 1, name: 'Fresh Tomatoes', telugu: '‡∞ü‡∞Æ‡∞æ‡∞ü‡∞æ', image: 'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=300&h=200&fit=crop', unit: '1 kg' },
                { id: 2, name: 'Potatoes', telugu: '‡∞¨‡∞Ç‡∞ó‡∞æ‡∞≥‡∞æ‡∞¶ÔøΩÔøΩÔøΩ‡∞Ç‡∞™‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1550258987-190a2d41a8ba?w=300&h=200&fit=crop', unit: '1 kg' },
                { id: 3, name: 'Fresh Onions', telugu: '‡∞â‡∞≤‡±ç‡∞≤‡∞ø‡∞™‡∞æ‡∞Ø‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1589927986089-35812378d916?w=300&h=200&fit=crop', unit: '1 kg' }
            ],
            'fruits': [
                { id: 4, name: 'Fresh Apples', telugu: '‡∞Ü‡∞™‡∞ø‡∞≤‡±ç‡∞∏‡±ç', image: 'https://images.unsplash.com/photo-1619546813926-a78fa6372cd2?w=300&h=200&fit=crop', unit: '1 kg' },
                { id: 5, name: 'Bananas', telugu: '‡∞Ö‡∞∞‡∞üÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ‡∞°‡±ç‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=300&h=200&fit=crop', unit: '1 dozen' },
                { id: 6, name: 'Oranges', telugu: '‡∞®‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ú ‡∞™‡∞Ç‡∞°‡±ç‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1580052614034-c55d20bfee3b?w=300&h=200&fit=crop', unit: '1 kg' }
            ],
            'groceries': [
                { id: 7, name: 'Rice', telugu: '‡∞¨‡∞ø‡∞Ø‡±ç‡∞Ø‡∞Ç', image: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300&h=200&fit=crop', unit: '5 kg' },
                { id: 8, name: 'Wheat Flour', telugu: '‡∞óÔøΩÔøΩÔøΩÔøΩ‡±Å‡∞Æ ‡∞™‡∞ø‡∞Ç‡∞°‡∞ø', image: 'https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=300&h=200&fit=crop', unit: '1 kg' },
                { id: 9, name: 'Cooking Oil', telugu: 'ÔøΩÔøΩ‡∞Ç‡∞ü ‡∞®‡±Ç‡∞®‡±Ü', image: 'https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=300&h=200&fit=crop', unit: '1 liter' }
            ],
            'snacks': [
                { id: 10, name: 'Chips', telugu: '‡∞ö‡∞ø‡∞™‡±ç‡∞∏‡±ç', image: 'https://images.unsplash.com/photo-1613919725148-efa0cd73fcc6?w=300&h=200&fit=crop', unit: '200g' },
                { id: 11, name: 'Biscuits', telugu: '‡∞¨‡∞øÔøΩÔøΩÔøΩ‡±ç‡∞ï‡±Ü‡∞ü‡±ç‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=300&h=200&fit=crop', unit: '300g' },
                { id: 12, name: 'Namkeen', telugu: '‡∞®‡∞Æ‡±ç‡∞ï‡±Ä‡∞®‡±ç', image: 'https://images.unsplash.com/photo-1599490659213-e2b9527bd087?w=300&h=200&fit=crop', unit: '250g' }
            ],
            'dairy': [
                { id: 13, name: 'Fresh Milk', telugu: '‡∞™‡∞æ‡∞≤‡±Å', image: 'https://images.unsplash.com/photo-1563636619-e9143da7973b?w=300&h=200&fit=crop', unit: '1 liter' },
                { id: 14, name: 'Curd', telugu: '‡∞™‡±Ü‡∞∞‡±Å‡∞ó‡±Å', image: 'https://images.unsplash.com/photo-1571212059581-53cf896ff5e8?w=300&h=200&fit=crop', unit: '500g' },
                { id: 15, name: 'Butter', telugu: '‡∞µ‡±Ü‡∞®‡±ç‡∞®', image: 'https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=300&h=200&fit=crop', unit: '200g' }
            ],
            'beverages': [
                { id: 16, name: 'Tea Powder', telugu: '‡∞ü‡±Ä ‡∞™ÔøΩÔøΩ‡∞°‡∞ø', image: 'https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?w=300&h=200&fit=crop', unit: '250g' },
                { id: 17, name: 'Coffee', telugu: '‡∞ï‡∞æ‡∞´‡±Ä', image: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=200&fit=crop', unit: '200g' },
                { id: 18, name: 'Soft Drinks', telugu: '‡∞ï‡±Ç‡∞≤‡±ç ‡∞°‡±ç‡∞∞‡∞ø‡∞Ç‡∞ï‡±ç‡∞∏‡±ç', image: 'https://images.unsplash.com/photo-1581006852262-e4307cf6283a?w=300&h=200&fit=crop', unit: '1 liter' }
            ],
            'bakery': [
                { id: 19, name: 'Bread', telugu: '‡∞¨‡±ç‡∞∞‡±Ü‡∞°‡±ç', image: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=300&h=200&fit=crop', unit: '1 loaf' },
                { id: 20, name: 'Cake', telugu: '‡∞ï‡±á‡∞ï‡±ç', image: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=300&h=200&fit=crop', unit: '500g' },
                { id: 21, name: 'Cookies', telugu: '‡∞ï‡±Å‡∞ï‡±Ä‡∞∏‡±ç', image: 'https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=300&h=200&fit=crop', unit: '250g' }
            ],
            'personal-care': [
                { id: 22, name: 'Soap', telugu: '‡∞∏‡∞¨‡±ç‡∞¨‡±Å', image: 'https://images.unsplash.com/photo-1585128792626-59ceb07d909c?w=300&h=200&fit=crop', unit: '125g' },
                { id: 23, name: 'Shampoo', telugu: '‡∞∑‡∞æ‡∞Ç‡∞™‡±Ç', image: 'https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?w=300&h=200&fit=crop', unit: '200ml' },
                { id: 24, name: 'Toothpaste', telugu: '‡∞ü‡±Ç‡∞§‡±ç‚Äå‡∞™‡±á‡∞∏‡±ç‡∞ü‡±ç', image: 'https://images.unsplash.com/photo-1622372738946-62e02505feb3?w=300&h=200&fit=crop', unit: '100g' }
            ],
            'household': [
                { id: 25, name: 'Detergent', telugu: '‡∞°‡∞ø‡∞üÔøΩÔøΩÔøΩ‡±çÔøΩÔøΩ‡±Ü‡∞Ç‡∞ü‡±ç', image: 'https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=300&h=200&fit=crop', unit: '1 kg' },
                { id: 26, name: 'Dish Wash', telugu: '‡∞°‡∞ø‡∞∑‡±ç ‡∞µ‡∞æ‡∞∑‡±ç', image: 'https://images.unsplash.com/photo-1631889993959-41b4e9c6e3c5?w=300&h=200&fit=crop', unit: '500ml' },
                { id: 27, name: 'Floor Cleaner', telugu: '‡∞´‡±ç‡∞≤‡±ã‡∞∞‡±ç ‡∞ï‡±ç‡∞≤‡±Ä‡∞®‡∞∞‡±ç', image: 'https://images.unsplash.com/photo-1563453392212-326f5e854473?w=300&h=200&fit=crop', unit: '1 liter' }
            ]
        };

        // Initialize
        async function init() {
            await window.elementSdk.init({
                defaultConfig,
                onConfigChange: async (config) => {
                    document.getElementById('website-name').textContent = config.website_name || defaultConfig.website_name;
                    document.getElementById('flash-sale-text').innerHTML = config.flash_sale_text || defaultConfig.flash_sale_text;
                    document.getElementById('refer-amount').textContent = config.refer_earn_amount || defaultConfig.refer_earn_amount;
                },
                mapToCapabilities: (config) => ({
                    recolorables: [],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined
                }),
                mapToEditPanelValues: (config) => new Map([
  'website_name', config.website_name || defaultConfig.website_name],
                    ['tagline', config.tagline || defaultConfig.tagline],
                    ['flash_sale_text', config.flash_sale_text || defaultConfig.flash_sale_text],
                    ['refer_earn_amount', config.refer_earn_amount || defaultConfig.refer_earn_amount]
                ])
            });

            // Set default location to Khanapur
            selectedLocation = locations.find(loc => loc.id === DEFAULT_LOCATION_ID);
            if (selectedLocation) {
                document.getElementById('selected-location-text').textContent = selectedLocation.name;
            }

            initializeCarousels();
            initializeTimers();
            populateLocationList();
            renderStoreProducts();
            autoRotateTestimonials();

            // Register service worker for PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('data:application/javascript;base64,').catch(() => {});
            }
        }

        // Location Functions
        function populateLocationList() {
            const locationList = document.getElementById('location-list');
            
            // Khanapur Head Office Section (Always on top)
            let html = '<div style="margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid var(--primary-color);">';
            html += `<h3 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 14px; padding-left: 12px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 22px;">üèõÔ∏è</span> Head Office
                    </h3>`;
            
            const headLocation = locations.find(loc => loc.id === DEFAULT_LOCATION_ID);
            if (headLocation) {
                const isSelected = selectedLocation && selectedLocation.id === headLocation.id;
                html += `
                    <div class="location-item ${isSelected ? 'selected' : ''}" onclick="selectLocation(${headLocation.id})" style="${isSelected ? 'background: rgba(0, 169, 165, 0.1); border-color: var(--primary-color);' : ''}">
                        <div class="location-item-icon" style="font-size: 32px;">${headLocation.icon}</div>
                        <div class="location-item-text">
                            <h4 style="font-size: 16px;">${headLocation.name}</h4>
                            <p style="font-size: 11px; color: #999;">${headLocation.area}</p>
                            ${isSelected ? '<p style="font-size: 10px; color: var(--primary-color); font-weight: 700; margin-top: 4px;">‚úì CURRENTLY SELECTED</p>' : ''}
                        </div>
                        <div style="display: flex; align-items: center; gap: 4px; font-size: 11px; color: var(--primary-color); font-weight: 600;">
                            ${isSelected ? '‚úì Selected' : `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 11l3 3L22 4"></path>
                                <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                            </svg>
                            Select`}
                        </div>
                    </div>
                `;
            }
            html += `</div>`;
            
            // Group remaining locations by mandal
            const groupedLocations = {};
            locations.forEach(loc => {
                if (loc.id !== DEFAULT_LOCATION_ID) { // Skip head office
                    if (!groupedLocations[loc.mandal]) {
                        groupedLocations[loc.mandal] = [];
                    }
                    groupedLocations[loc.mandal].push(loc);
                }
            });
            
            Object.keys(groupedLocations).forEach(mandal => {
                html += `<div style="margin-bottom: 20px;">
                    <h3 style="font-size: 14px; font-weight: 700; color: var(--primary-color); margin-bottom: 10px; padding-left: 12px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 18px;">üìç</span> ${mandal} Mandal
                    </h3>`;
                
                groupedLocations[mandal].forEach(loc => {
                    const isSelected = selectedLocation && selectedLocation.id === loc.id;
                    html += `
                        <div class="location-item ${isSelected ? 'selected' : ''}" onclick="selectLocation(${loc.id})">
                            <div class="location-item-icon" style="font-size: 28px;">${loc.icon}</div>
                            <div class="location-item-text">
                                <h4>${loc.name}</h4>
                                <p style="font-size: 11px; color: #999;">${loc.area}</p>
                            </div>
                            <div style="display: flex; align-items: center; gap: 4px; font-size: 11px; color: var(--primary-color); font-weight: 600;">
                                ${isSelected ? '‚úì Selected' : `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 11l3 3L22 4"></path>
                                    <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                                </svg>
                                Select`}
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;
            });
            
            locationList.innerHTML = html;
        }

        function filterLocations(searchTerm) {
            const term = searchTerm.toLowerCase().trim();
            if (!term) {
                populateLocationList();
                return;
            }
            
            const filtered = locations.filter(loc => 
                loc.name.toLowerCase().includes(term) || 
                loc.area.toLowerCase().includes(term) ||
                loc.mandal.toLowerCase().includes(term)
            );
            
            const locationList = document.getElementById('location-list');
            if (filtered.length === 0) {
                locationList.innerHTML = '<p style="text-align: center; padding: 40px 20px; color: #999;">No locations found. Try searching with a different name.</p>';
                return;
            }
            
            let html = '';
            filtered.forEach(loc => {
                html += `
                    <div class="location-item" onclick="selectLocation(${loc.id})">
                        <div class="location-item-icon" style="font-size: 28px;">${loc.icon}</div>
                        <div class="location-item-text">
                            <h4>${loc.name}</h4>
                            <p style="font-size: 11px; color: #999;">${loc.area} ‚Ä¢ ${loc.mandal} Mandal</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 4px; font-size: 11px; color: var(--primary-color); font-weight: 600;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 11l3 3L22 4"></path>
                                <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                            </svg>
                            Select
                        </div>
                    </div>
                `;
            });
            
            locationList.innerHTML = html;
        }

        function makeCall() {
            window.open('tel:7799086877', '_self');
        }

        function selectLocation(locationId) {
            selectedLocation = locations.find(loc => loc.id === locationId);
            document.getElementById('selected-location-text').textContent = selectedLocation.name;
            closePopup('location-popup');
            
            // Show success with location details
            const popup = document.getElementById('success-popup');
            document.getElementById('success-title').textContent = '‚úÖ Location Set!';
            document.getElementById('success-message').innerHTML = `
                <div style="text-align: center;">
                    <p style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">${selectedLocation.name}</p>
                    <p style="font-size: 13px; color: #666; margin-bottom: 8px;">${selectedLocation.area}</p>
                    <p style="font-size: 12px; color: #999;">${selectedLocation.mandal} Mandal</p>
                    <div style="background: linear-gradient(135deg, rgba(0, 169, 165, 0.1), rgba(11, 83, 81, 0.1)); padding: 10px; border-radius: 8px; margin-top: 12px;">
                        <p style="font-size: 11px; color: var(--dark-color); margin: 0;">
                            ÔøΩÔøΩÔøΩÔøΩ WhatsApp Support: <strong>${selectedLocation.phone}</strong>
                        </p>
                    </div>
                </div>
            `;
            popup.classList.add('active');
            document.body.classList.add('popup-open');
            setTimeout(() => {
                popup.classList.remove('active');
                document.body.classList.remove('popup-open');
            }, 2500);
        }

        function showLocationPopup() {
            document.getElementById('location-popup').classList.add('active');
            document.body.classList.add('popup-open');
        }

        function closeWelcomeAndShowLocation() {
            closePopup('welcome-popup');
            setTimeout(() => {
                showLocationPopup();
            }, 300);
        }

        // Add freeze on welcome popup when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const welcomePopup = document.getElementById('welcome-popup');
            if (welcomePopup && welcomePopup.classList.contains('active')) {
                document.body.classList.add('popup-open');
            }
        });

        // Navigation Functions
        function navigateToPage(pageName) {
            // Update pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageName).classList.add('active');

            // Update nav bar
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update bottom nav
            document.querySelectorAll('.bottom-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[onclick="navigateToPage('${pageName}')"]`).closest('.bottom-nav-item')?.classList.add('active');

            currentPage = pageName;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Carousel Functions
        function initializeCarousels() {
            initCarousel('main-carousel', 'carousel-dots', 3000);
            initCarousel('small-carousel', 'small-carousel-dots', 4000);
        }

        function initCarousel(carouselId, dotsId, interval) {
            const carousel = document.getElementById(carouselId);
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dotsContainer = document.getElementById(dotsId);
            let currentIndex = 0;

            // Create dots
            slides.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (index === 0) dot.classList.add('active');
                dot.onclick = () => goToSlide(index);
                dotsContainer.appendChild(dot);
            });

            function goToSlide(index) {
                currentIndex = index;
                carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
                dotsContainer.querySelectorAll('.dot').forEach((dot, i) => {
                    dot.classList.toggle('active', i === currentIndex);
                });
            }

            function nextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;
                goToSlide(currentIndex);
            }

            setInterval(nextSlide, interval);
        }

        // Timer Functions
        function initializeTimers() {
            let hours = 2, minutes = 45, seconds = 30;

            setInterval(() => {
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                    if (minutes < 0) {
                        minutes = 59;
                        hours--;
                        if (hours < 0) {
                            hours = 2;
                        }
                    }
                }

                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
            }, 1000);
        }

        // Store Functions
        function renderStoreProducts() {
            const container = document.getElementById('store-products');
            displayedCategories = Object.keys(storeCategories);
            currentCategoryIndex = 0;
            container.innerHTML = '';
            
            // Load first 3 categories initially
            loadMoreCategories();
            
            // Setup infinite scroll
            setupInfiniteScroll();
        }

        function loadMoreCategories() {
            if (isLoadingMore || currentCategoryIndex >= displayedCategories.length) return;
            
            isLoadingMore = true;
            const container = document.getElementById('store-products');
            
            // Show loading indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'loading-more';
            loadingDiv.id = 'loading-indicator';
            loadingDiv.innerHTML = '<div class="spinner"></div><p>Loading more products...</p>';
            container.appendChild(loadingDiv);
            
            // Simulate loading delay for smooth experience
            setTimeout(() => {
                // Remove loading indicator
                const loader = document.getElementById('loading-indicator');
                if (loader) loader.remove();
                
                // Load next 2 categories
                const categoriesToLoad = displayedCategories.slice(currentCategoryIndex, currentCategoryIndex + 2);
                
                categoriesToLoad.forEach(category => {
                    const categorySection = document.createElement('div');
                    categorySection.className = 'category-section';
                    categorySection.id = category;
                    
                    categorySection.innerHTML = `
                        <h3 class="category-title">${category.charAt(0).toUpperCase() + category.slice(1).replace('-', ' ')}</h3>
                        <div class="products-grid">
                            ${storeCategories[category].map(product => `
                                <div class="product-card">
                                    <img src="${product.image}" alt="${product.name}" class="product-image">
                                    <h4>${product.name}</h4>
                                    <p class="telugu">${product.telugu}</p>
                                    <div class="product-price">At Today's Price</div>
                                    <div class="quantity-selector">
                                        <input type="text" class="input-field" placeholder="${product.unit} (e.g., 2kg, 500g)" style="padding: 8px; font-size: 12px; margin-bottom: 0;">
                                    </div>
                                    <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Add to Cart</button>
                                    <button class="wishlist-btn" onclick="addToWishlist(${product.id})">‚ù§Ô∏è Wishlist</button>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    
                    container.appendChild(categorySection);
                });
                
                currentCategoryIndex += categoriesToLoad.length;
                isLoadingMore = false;
                
                // Show "All products loaded" message when done
                if (currentCategoryIndex >= displayedCategories.length) {
                    const endMessage = document.createElement('div');
                    endMessage.className = 'loading-more';
                    endMessage.innerHTML = '<p style="color: var(--primary-color); font-weight: 600;">‚ú® All products loaded</p>';
                    container.appendChild(endMessage);
                }
            }, 800);
        }
    function setupInfiniteScroll() {
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                // Debounce scroll event
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    if (currentPage !== 'store') return;
                    
                    const scrollHeight = document.documentElement.scrollHeight;
                    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                    const clientHeight = document.documentElement.clientHeight;
                    
                    // Load more when user is 500px from bottom
                    if (scrollHeight - scrollTop - clientHeight < 500) {
                        loadMoreCategories();
                    }
                }, 100);
            });
        }

        function searchProducts(query) {
            // Implement smart search functionality
            if (!query) {
                renderStoreProducts();
                return;
            }
            // Search logic here
        }

        function scrollToCategory(category) {
            const element = document.getElementById(category);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Cart & Wishlist Functions
        function addToCart(productId) {
            // Get product details
            let product = null;
            for (const category in storeCategories) {
                const found = storeCategories[category].find(p => p.id === productId);
                if (found) {
                    product = found;
                    break;
                }
            }
            
            if (product) {
                // Get quantity from input field (find the input in the parent container)
                const productCard = event.target.closest('.product-card');
                const quantityInput = productCard.querySelector('.quantity-selector input');
                const quantity = quantityInput.value || product.unit;
                
                cartItems.push({
                    ...product,
                    quantity: quantity
                });
                updateCartCount();
                showNotification('Added to Cart', `${product.name} (${quantity})`);
            }
        }

        function addToWishlist(productId) {
            // Get product details
            let product = null;
            for (const category in storeCategories) {
                const found = storeCategories[category].find(p => p.id === productId);
                if (found) {
                    product = found;
                    break;
                }
            }
            
            if (product) {
                wishlistItems.push(product);
                updateWishlistCount();
                showNotification('Added to Wishlist', `${product.name} saved for later!`);
            }
        }

        function updateCartCount() {
            document.getElementById('cart-count').textContent = cartItems.length;
        }

        function updateWishlistCount() {
            document.getElementById('wishlist-count').textContent = wishlistItems.length;
        }

        function toggleCart() {
            document.getElementById('cart-popup').classList.add('active');
            document.body.classList.add('popup-open');
            updateCartDisplay();
        }

        function toggleWishlist() {
            const popup = document.getElementById('cart-popup');
            const popupTitle = popup.querySelector('.popup-title');
            const cartContainer = document.getElementById('cart-items');
            
            if (wishlistItems.length === 0) {
                showNotification('Wishlist Empty', 'Add items to your wishlist');
                return;
            }
            
            popupTitle.textContent = '‚ù§Ô∏è My Wishlist';
            
            let wishlistHtml = '<div style="max-height: 400px; overflow-y: auto;">';
            wishlistItems.forEach((item, index) => {
                wishlistHtml += `
                    <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
                        <div style="flex: 1;">
                            <h4 style="font-size: 14px; margin-bottom: 4px;">${item.name}</h4>
                            <p style="font-size: 12px; color: #888;">${item.telugu}</p>
                        </div>
                        <button onclick="removeFromWishlist(${index})" style="background: #ff5252; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">Remove</button>
                        <button onclick="moveToCart(${index})" style="background: var(--primary-color); color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">Add to Cart</button>
                    </div>
                `;
            });
            wishlistHtml += '</div>';
            
            cartContainer.innerHTML = wishlistHtml;
            
            // Change checkout button to close button
            const checkoutBtn = popup.querySelector('.submit-booking-btn');
            checkoutBtn.textContent = 'Close Wishlist';
            checkoutBtn.onclick = () => {
                closePopup('cart-popup');
                popupTitle.textContent = 'Shopping Cart';
                checkoutBtn.textContent = 'Proceed to Checkout';
                checkoutBtn.onclick = checkout;
            };
            
            // Hide cart actions
            popup.querySelector('.cart-actions').style.display = 'none';
            
            popup.classList.add('active');
            document.body.classList.add('popup-open');
        }

        function removeFromWishlist(index) {
            wishlistItems.splice(index, 1);
            updateWishlistCount();
            toggleWishlist(); // Refresh display
            showNotification('Removed', 'Item removed from wishlist');
        }

        function moveToCart(index) {
            const item = wishlistItems[index];
            cartItems.push({
                ...item,
                quantity: item.unit
            });
            wishlistItems.splice(index, 1);
            updateWishlistCount();
            updateCartCount();
            toggleWishlist(); // Refresh display
            showNotification('Moved to Cart', `${item.name} added to cart`);
        }

        function updateCartDisplay() {
            const cartContainer = document.getElementById('cart-items');
            const popup = document.getElementById('cart-popup');
            const popupTitle = popup.querySelector('.popup-title');
            
            // Reset to cart view
            popupTitle.textContent = 'Shopping Cart';
            popup.querySelector('.cart-actions').style.display = 'flex';
            
            const checkoutBtn = popup.querySelector('.submit-booking-btn');
            checkoutBtn.textContent = 'Proceed to Checkout';
            checkoutBtn.onclick = checkout;
            
            if (cartItems.length === 0) {
                cartContainer.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">Your cart is empty<br><small>Add items from the store</small></p>';
            } else {
                let cartHtml = '<div style="max-height: 400px; overflow-y: auto;">';
                cartItems.forEach((item, index) => {
                    cartHtml += `
                        <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                            <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
                            <div style="flex: 1;">
                                <h4 style="font-size: 14px; margin-bottom: 4px;">${item.name}</h4>
                                <p style="font-size: 12px; color: #888;">${item.telugu}</p>
                                <p style="font-size: 13px; font-weight: 600; color: var(--primary-color); margin-top: 4px;">Qty: ${item.quantity}</p>
                            </div>
                            <button onclick="removeFromCart(${index})" style="background: #ff5252; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">Remove</button>
                        </div>
                    `;
                });
                cartHtml += '</div>';
                cartHtml += `<div style="background: #e8f5ff; padding: 12px; border-radius: 10px; margin-top: 12px; text-align: center;">
                    <p style="font-size: 14px; font-weight: 600; color: var(--dark-color);">Total Items: ${cartItems.length}</p>
                    <p style="font-size: 12px; color: #666; margin-top: 4px;">Final prices at today's market rate</p>
                </div>`;
                
                cartContainer.innerHTML = cartHtml;
            }
        }

        function removeFromCart(index) {
            const removedItem = cartItems[index];
            cartItems.splice(index, 1);
            updateCartCount();
            updateCartDisplay();
            showNotification('Removed', `${removedItem.name} removed from cart`);
        }

        function shareCart() {
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location first');
                return;
            }
            const message = `Check out my cart from MANA DELIVERY! üõí\nwww.mana.delivery`;
            openWhatsApp(message);
        }

        async function giftCart() {
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location first');
                return;
            }

            try {
                const location = await getLocation();
                const message = formatWhatsAppMessage({
                    type: 'üéÅ Surprise Gift Delivery',
                    items: cartItems.length,
                    location: location
                });
                openWhatsApp(message);
                closePopup('cart-popup');
            } catch (error) {
                closePopup('cart-popup');
                showLocationWarning();
            }
        }

        async function checkout() {
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location first');
                return;
            }

            if (cartItems.length === 0) {
                showNotification('Cart Empty', 'Please add items to cart first');
                return;
            }

            // Close cart popup and show cart form
            closePopup('cart-popup');
            
            // Reset form
            currentLocationData = null;
            document.getElementById('cart-location-details').style.display = 'none';
            document.getElementById('cart-location-btn-text').innerHTML = '<span class="loading"></span> Capturing Location...';
            document.getElementById('cart-total-items').textContent = cartItems.length;
            
            // Show cart form
            setTimeout(() => {
                document.getElementById('cart-form-popup').classList.add('active');
                document.body.classList.add('popup-open');
                // Auto-capture location
                setTimeout(() => {
                    captureCartLocation();
                }, 500);
            }, 300);
        }

        async function giftCart() {
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location first');
                return;
            }

            if (cartItems.length === 0) {
                showNotification('Cart Empty', 'Please add items to cart first');
                return;
            }

            // Close cart popup and show gift form
            closePopup('cart-popup');
            
            // Show gift-specific booking form
            showBookingForm('ÔøΩÔøΩÔøΩÔøΩ Gift Delivery', 'Surprise Gift Package', 'üéÅ');
        }

        async function shareCart() {
            if (cartItems.length === 0) {
                showNotification('Cart Empty', 'Please add items to cart first');
                return;
            }

            const message = `üõí *Check out my MANA DELIVERY cart!*\n\nüì¶ I have ${cartItems.length} items ready to order.\n\nüåê www.mana.delivery`;
            
            if (navigator.share) {
                try {
                    await navigator.share({ 
                        title: 'My MANA DELIVERY Cart', 
                        text: message 
                    });
                } catch (error) {
                    // Fallback to WhatsApp
                    window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank', 'noopener,noreferrer');
                }
            } else {
                window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank', 'noopener,noreferrer');
            }
        }

        // Booking state
        let currentBookingData = null;
        let currentLocationData = null;

        // Booking Functions
        function selectDeliveryType(type) {
            document.querySelectorAll('.booking-option').forEach(el => el.classList.remove('selected'));
            event.target.closest('.booking-option').classList.add('selected');
        }

        function selectTransportType(type) {
            selectDeliveryType(type);
        }

        function selectEventType(type) {
            selectDeliveryType(type);
        }

        function selectRentalType(type) {
            selectDeliveryType(type);
        }

        function selectBusinessType(type) {
            selectDeliveryType(type);
        }

        function selectJoinType(type) {
            selectDeliveryType(type);
        }

        function bookDelivery(serviceType) {
            showBookingForm('Delivery Service', serviceType, 'üì¶');
        }

        function bookTransport(serviceType) {
            showBookingForm('Transport Service', serviceType, 'üöó');
        }

        function bookEvent(serviceType) {
            showBookingForm('Event Service', serviceType, 'ÔøΩÔøΩ');
        }

        function bookBusiness(serviceType) {
            showBookingForm('Business Service', serviceType, 'ÔøΩÔøΩÔøΩ');
        }

        function joinPartner(partnerType) {
            showBookingForm('Partnership Application', partnerType, 'üë•');
        }

        function initiateBooking(serviceType) {
            showBookingForm('Quick Booking', serviceType, '‚ö°');
        }

        function showBookingForm(bookingType, serviceType, icon) {
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location first');
                return;
            }

            currentBookingData = {
                bookingType: bookingType,
                serviceType: serviceType
            };
            currentLocationData = null;

            // Update form UI
            document.getElementById('booking-form-title').textContent = bookingType;
            document.getElementById('booking-form-icon').textContent = icon;
            document.getElementById('service-icon').textContent = icon;
            document.getElementById('service-title').textContent = bookingType;
            document.getElementById('service-type').value = serviceType;

            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('service-date').setAttribute('min', today);
            document.getElementById('service-date').value = today;

            // Reset location display
            document.getElementById('location-details').style.display = 'none';
            document.getElementById('location-btn-text').innerHTML = '<span class="loading"></span> Capturing Location...';

            // Show form
            document.getElementById('booking-form-popup').classList.add('active');
            document.body.classList.add('popup-open');

            // Auto-capture location
            setTimeout(() => {
                captureLiveLocation();
            }, 500);
    }
    
        // Capture live location for booking form
        async function captureLiveLocation() {
            const btnText = document.getElementById('location-btn-text');
            btnText.innerHTML = '<span class="loading"></span> Getting Location...';

            try {
                const location = await getLocation();
                currentLocationData = location;

                // Update location display
                document.getElementById('loc-area').textContent = `${selectedLocation.name} (${selectedLocation.area})`;
                document.getElementById('loc-coords').textContent = `${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`;
                document.getElementById('loc-accuracy').textContent = `¬±${location.accuracy.toFixed(0)} meters`;
                document.getElementById('loc-altitude').textContent = location.altitude ? `${location.altitude.toFixed(0)} meters` : 'Not available';
                document.getElementById('loc-speed').textContent = location.speed ? `${location.speed.toFixed(2)} m/s` : 'Stationary';
                document.getElementById('loc-heading').textContent = location.heading ? `${location.heading.toFixed(0)}¬∞ ${getCompassDirection(location.heading)}` : 'Not available';
                document.getElementById('loc-map-link').href = location.mapUrl;

                document.getElementById('location-details').style.display = 'block';
                btnText.innerHTML = 'ÔøΩÔøΩÔøΩÔøΩ Location Captured';
                btnText.parentElement.style.background = 'linear-gradient(135deg, #51cf66, #37b24d)';
            } catch (error) {
                btnText.innerHTML = '‚ùå Location Failed - Try Again';
                btnText.parentElement.style.background = 'linear-gradient(135deg, #ff6b6b, #fa5252)';
                showLocationWarning();
            }
        }

        // Capture live location for cart form
        async function captureCartLocation() {
            const btnText = document.getElementById('cart-location-btn-text');
            btnText.innerHTML = '<span class="loading"></span> Getting Location...';

            try {
                const location = await getLocation();
                currentLocationData = location;

                // Update location display
                document.getElementById('cart-loc-area').textContent = `${selectedLocation.name} (${selectedLocation.area})`;
                document.getElementById('cart-loc-coords').textContent = `${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`;
                document.getElementById('cart-loc-accuracy').textContent = `¬±${location.accuracy.toFixed(0)} meters`;
                document.getElementById('cart-loc-map-link').href = location.mapUrl;

                document.getElementById('cart-location-details').style.display = 'block';
                btnText.innerHTML = '‚úÖ Location Captured';
                btnText.parentElement.style.background = 'linear-gradient(135deg, #51cf66, #37b24d)';
            } catch (error) {
                btnText.innerHTML = '‚ùå Location Failed - Try Again';
                btnText.parentElement.style.background = 'linear-gradient(135deg, #ff6b6b, #fa5252)';
                showLocationWarning();
            }
        }

        // Get compass direction from heading
        function getCompassDirection(heading) {
            const directions = ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'];
            const index = Math.round(heading / 45) % 8;
            return directions[index];
        }

        // Handle booking form submission
        document.addEventListener('DOMContentLoaded', () => {
            const bookingForm = document.getElementById('booking-form');
            if (bookingForm) {
                bookingForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const submitBtn = document.getElementById('submit-btn-text');
                    submitBtn.innerHTML = '<span class="loading"></span> Sending...';

                    // Gather form data
                    const formData = {
                        customerName: document.getElementById('customer-name').value,
                        customerPhone: document.getElementById('customer-phone').value,
                        customerEmail: document.getElementById('customer-email').value,
                        customerAddress: document.getElementById('customer-address').value,
                        serviceType: document.getElementById('service-type').value,
                        serviceDate: document.getElementById('service-date').value,
                        serviceTime: document.getElementById('service-time').value,
                        serviceNotes: document.getElementById('service-notes').value
                    };

                    // Format WhatsApp message
                    const message = formatBookingWhatsAppMessage(formData);
                    
                    // Send via WhatsApp
                    openWhatsApp(message);
                    
                    // Close form and show success
                    setTimeout(() => {
                        closePopup('booking-form-popup');
                        showSuccess('Booking Sent!', 'We will confirm your booking via WhatsApp');
                        bookingForm.reset();
                        submitBtn.innerHTML = 'üì± Send Booking via WhatsApp';
                    }, 500);
                });
            }

            const cartForm = document.getElementById('cart-form');
            if (cartForm) {
                cartForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    // Gather form data
                    const formData = {
                        customerName: document.getElementById('cart-customer-name').value,
                        customerPhone: document.getElementById('cart-customer-phone').value,
                        customerAddress: document.getElementById('cart-customer-address').value,
                        deliveryTime: document.getElementById('cart-delivery-time').value,
                        notes: document.getElementById('cart-notes').value
                    };

                    // Format WhatsApp message
                    const message = formatCartWhatsAppMessage(formData);
                    
                    // Send via WhatsApp
                    openWhatsApp(message);
                    
                    // Close form and show success
                    setTimeout(() => {
                        closePopup('cart-form-popup');
                        showSuccess('Order Sent!', 'We will confirm your order via WhatsApp');
                        cartForm.reset();
                        cartItems = [];
                        updateCartCount();
                    }, 500);
                });
            }
        });

        // Location Functions
        async function getLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject(new Error('Geolocation not supported'));
                    return;
                }

                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        locationAttempts = 0; // Reset on success
                        const location = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude,
                            accuracy: position.coords.accuracy,
                            speed: position.coords.speed || 0,
                            altitude: position.coords.altitude || 0,
                            heading: position.coords.heading || null,
                            timestamp: new Date(position.timestamp).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
                            mapUrl: `https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}`
                        };
                        userLocation = location;
                        resolve(location);
                    },
                    (error) => {
                        reject(error);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            });
        }

        // Format booking WhatsApp message
        function formatBookingWhatsAppMessage(formData) {
            let message = `üåü *MANA DELIVERY - ${currentBookingData.bookingType}*\n\n`;
            
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üë§ *CUSTOMER DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅÔøΩÔøΩÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìù Name: ${formData.customerName}\n`;
            message += `ÔøΩÔøΩ Phone: ${formData.customerPhone}\n`;
            if (formData.customerEmail) {
                message += `‚úâÔ∏è Email: ${formData.customerEmail}\n`;
            }
            message += `üìç Address: ${formData.customerAddress}\n`;
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìã *SERVICE DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üîñ Service: ${formData.serviceType}\n`;
            message += `üìÖ Date: ${formData.serviceDate}\n`;
            message += `üïê Time: ${formData.serviceTime}\n`;
            if (formData.serviceNotes) {
                message += `üìù Notes: ${formData.serviceNotes}\n`;
            }
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìç *LOCATION DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅÔøΩÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìå Selected Area: ${selectedLocation.name} (${selectedLocation.area})\n`;
            
            if (currentLocationData) {
                message += `\nüåç *LIVE GPS LOCATION:*\n`;
                message += `üó∫Ô∏è Map Link: ${currentLocationData.mapUrl}\n`;
                message += `üìä Latitude: ${currentLocationData.latitude.toFixed(6)}\n`;
                message += `üìä Longitude: ${currentLocationData.longitude.toFixed(6)}\n`;
                message += `üéØ Accuracy: ¬±${currentLocationData.accuracy.toFixed(0)} meters\n`;
                if (currentLocationData.altitude) {
                    message += `‚õ∞Ô∏è Altitude: ${currentLocationData.altitude.toFixed(0)} meters\n`;
                }
                if (currentLocationData.speed) {
                    message += `ÔøΩÔøΩÔøΩ Speed: ${currentLocationData.speed.toFixed(2)} m/s (${(currentLocationData.speed * 3.6).toFixed(1)} km/h)\n`;
                }
                if (currentLocationData.heading) {
                    message += `üß≠ Heading: ${currentLocationData.heading.toFixed(0)}¬∞ ${getCompassDirection(currentLocationData.heading)}\n`;
                }
                message += `üïê Captured At: ${currentLocationData.timestamp}\n`;
            } else {
                message += `‚ö†Ô∏è *Live location not captured*\n`;
                message += `‚ÑπÔ∏è Location will be confirmed manually\n`;
            }
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `ÔøΩÔøΩ www.mana.delivery\n`;
            message += `üìû Contact: ${selectedLocation.phone}\n`;
            
            return message;
        }

        // Format cart WhatsApp message
        function formatCartWhatsAppMessage(formData) {
            let message = `üåü *MANA DELIVERY - STORE ORDER*\n\n`;
            
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üë§ *CUSTOMER DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìù Name: ${formData.customerName}\n`;
            message += `üìû Phone: ${formData.customerPhone}\n`;
            message += `üìç Address: ${formData.customerAddress}\n`;
            
            const deliveryTimes = {
                'asap': 'As Soon As Possible',
                'morning': 'Morning (8 AM - 12 PM)',
                'afternoon': 'Afternoon (12 PM - 4 PM)',
                'evening': 'Evening (4 PM - 8 PM)'
            };
            message += `üïê Delivery Time: ${deliveryTimes[formData.deliveryTime]}\n`;
            if (formData.notes) {
                message += `üìù Instructions: ${formData.notes}\n`;
            }
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩ\n`;
            message += `üõçÔ∏è *ORDER SUMMARY*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üì¶ Total Items: ${cartItems.length}\n`;
            message += `üí∞ Prices: At Today's Market Rate\n`;
            message += `‚ÑπÔ∏è Note: Final amount will be confirmed\n`;
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìç *DELIVERY LOCATION*\n`;
            message += `ÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìå Selected Area: ${selectedLocation.name} (${selectedLocation.area})\n`;
            
            if (currentLocationData) {
                message += `\nüåç *LIVE GPS LOCATION:*\n`;
                message += `üó∫Ô∏è Map Link: ${currentLocationData.mapUrl}\n`;
                message += `üìä Coordinates: ${currentLocationData.latitude.toFixed(6)}, ${currentLocationData.longitude.toFixed(6)}\n`;
                message += `üéØ Accuracy: ¬±${currentLocationData.accuracy.toFixed(0)} meters\n`;
                if (currentLocationData.altitude) {
                    message += `‚õ∞Ô∏è Altitude: ${currentLocationData.altitude.toFixed(0)} meters\n`;
                }
                message += `üïê Captured At: ${currentLocationData.timestamp}\n`;
            } else {
                message += `‚ö†Ô∏è *Live location not captured*\n`;
                message += `ÔøΩÔøΩÔøΩÔ∏è Location will be confirmed manually\n`;
            }
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅÔøΩÔøΩ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üåê www.mana.delivery\n`;
            message += `üìû Contact: ${selectedLocation.phone}\n`;
            
            return message;
        }

        function showLocationWarning() {
            locationAttempts++;
            
            const warningPopup = document.getElementById('location-warning-popup');
            const attemptsLeft = document.getElementById('location-attempts-left');
            const proceedBtn = document.getElementById('proceed-without-location');
            const warningMessage = document.getElementById('location-warning-message');
            if (locationAttempts >= MAX_LOCATION_ATTEMPTS) {
                attemptsLeft.textContent = `Tried ${MAX_LOCATION_ATTEMPTS} times`;
                proceedBtn.style.display = 'block';
                warningMessage.textContent = 'Having trouble accessing location? You can continue without it, and we\'ll confirm your exact location via WhatsApp.';
            } else {
                attemptsLeft.textContent = `Attempt ${locationAttempts} of ${MAX_LOCATION_ATTEMPTS}`;
                proceedBtn.style.display = 'none';
                
                const messages = [
                    'We need your location to provide accurate delivery service to your area.',
                    'Please enable location in your browser settings to continue.',
                    'Go to your device Settings ‚Üí Location ‚Üí Enable for this browser'
                ];
                warningMessage.textContent = messages[locationAttempts - 1] || messages[0];
            }
            
            warningPopup.classList.add('active');
            document.body.classList.add('popup-open');
        }

        async function retryLocationAccess() {
            closePopup('location-warning-popup');
            
            // Small delay to allow popup to close
            setTimeout(async () => {
                try {
                    await getLocation();
                    showNotification('Success', 'Location access granted!');
                } catch (error) {
                    showLocationWarning();
                }
            }, 300);
        }

        function proceedWithoutLocation() {
            closePopup('location-warning-popup');
            
            if (!selectedLocation) {
                showNotification('Please Select Location', 'Choose your location from the list');
                return;
            }
            
            const message = formatWhatsAppMessage({
                type: 'Booking Request',
                service: 'Location not available',
                location: null
            });
            
            openWhatsApp(message);
            showSuccess('Request Sent', 'We will contact you shortly to confirm your location');
        }

        // WhatsApp Functions
        function formatWhatsAppMessage(data) {
            let message = `üåü *MANA DELIVERY* - ${data.type}\n\n`;
            
            if (data.service) {
                message += `ÔøΩÔøΩ Service: ${data.service}\n`;
            }
            if (data.items) {
                message += `üõí Items: ${data.items}\n`;
            }
            
            message += `\nüìç *Location Details:*\n`;
            message += `üìå Selected Area: ${selectedLocation.name} (${selectedLocation.area})\n`;
            
            if (data.location) {
                message += `üåç Live Location: ${data.location.mapUrl}\n`;
                message += `üìä Coordinates: ${data.location.latitude.toFixed(6)}, ${data.location.longitude.toFixed(6)}\n`;
                message += `üéØ Accuracy: ${data.location.accuracy.toFixed(0)}m\n`;
                if (data.location.altitude) message += `‚õ∞Ô∏è Altitude: ${data.location.altitude.toFixed(0)}m\n`;
                if (data.location.speed) message += `‚ö° Speed: ${data.location.speed.toFixed(1)} m/s\n`;
            } else {
                message += `‚ö†Ô∏è *Live location not available*\n`;
                message += `‚ÑπÔ∏è Customer will provide location details manually\n`;
            }
            
            message += `\nüåê Visit: www.mana.delivery`;
            
            return message;
        }

        function openWhatsApp(message) {
            if (!selectedLocation) {
                showNotification('Error', 'Please select a location first');
                return;
            }

            const phone = selectedLocation.phone;
            const encodedMessage = encodeURIComponent(message);
            
            // Use universal WhatsApp link that works globally
            const whatsappUrl = `https://wa.me/${phone}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        // Share Functions
        function shareWebsite(platform) {
            const url = 'https://www.mana.delivery';
            const text = `üöÄ Check out MANA DELIVERY - Your local service partner for delivery, transport & more!\n\nüí∞ Refer friends and earn ${window.elementSdk?.config?.refer_earn_amount || defaultConfig.refer_earn_amount}!\n\n`;
            
            if (platform === 'whatsapp') {
                window.open(`https://wa.me/?text=${encodeURIComponent(text + url)}`, '_blank', 'noopener,noreferrer');
            } else {
                if (navigator.share) {
                    navigator.share({ title: 'MANA DELIVERY', text: text, url: url });
                } else {
                    showNotification('Share', text + url);
                }
            }
        }

        // Theme Functions
        function showThemeSelector() {
            document.getElementById('theme-popup').classList.add('active');
            document.body.classList.add('popup-open');
        }

        function changeTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            closePopup('theme-popup');
            showNotification('Theme Changed', `Applied ${theme} theme`);
        }

        // Popup Functions
        function closePopup(popupId) {
            document.getElementById(popupId).classList.remove('active');
            document.body.classList.remove('popup-open');
        }

        function showSuccess(title, message) {
            document.getElementById('success-title').textContent = title;
            document.getElementById('success-message').textContent = message;
            document.getElementById('success-popup').classList.add('active');
            document.body.classList.add('popup-open');
            setTimeout(() => closePopup('success-popup'), 2000);
        }

        function showNotification(title, message) {
            const popup = document.getElementById('success-popup');
            document.getElementById('success-title').textContent = title;
            document.getElementById('success-message').textContent = message;
            popup.classList.add('active');
            document.body.classList.add('popup-open');
            setTimeout(() => {
                popup.classList.remove('active');
                document.body.classList.remove('popup-open');
            }, 700);
        }

        function showPopup(type) {
            const infoContent = document.getElementById('info-content');
            const infoTitle = document.getElementById('info-title');
            
            const content = {
                'terms': {
                    title: 'Terms & Conditions',
                    text: `<h3>Terms of Service</h3>
                           <p>Welcome to MANA DELIVERY. By using our services, you agree to these terms.</p>
                           <h4>Service Usage</h4>
                           <p>Our services are provided as-is. We strive to maintain high quality and reliability.</p>
                           <h4>User Responsibilities</h4>
                           <p>Users must provide accurate information and use services responsibly.</p>
                           <h4>Payments</h4>
                           <p>All payments must be made as per agreed terms. Prices are subject to change.</p>`
                },
                'privacy': {
                    title: 'Privacy Policy',
                    text: `<h3>Privacy Policy</h3>
                           <p>We respect your privacy and protect your personal information.</p>
                           <h4>Data Collection</h4>
                           <p>We collect location data and contact information to provide our services.</p>
                           <h4>Data Usage</h4>
                           <p>Your data is used only for service delivery and improvement.</p>
                           <h4>Data Protection</h4>
                           <p>We implement security measures to protect your information.</p>`
                },
                'return': {
                    title: 'Return Policy',
                    text: `<h3>Return Policy</h3>
                           <p>We want you to be satisfied with our services.</p>
                           <h4>Product Returns</h4>
                           <p>Fresh products can be returned within 24 hours if found unsatisfactory.</p>
                           <h4>Refund Process</h4>
                           <p>Refunds are processed within 5-7 business days.</p>
                           <h4>Non-returnable Items</h4>
                           <p>Some items may not be eligible for return due to hygiene reasons.</p>`
                },
                'disclaimer': {
                    title: 'Disclaimer',
                    text: `<h3>Disclaimer</h3>
                           <p>MANA DELIVERY provides services to the best of its ability.</p>
                           <h4>Service Availability</h4>
                           <p>Services may vary based on location and availability.</p>
                           <h4>Third-party Services</h4>
                           <p>We work with partners; their actions are their responsibility.</p>
                           <h4>Liability</h4>
                           <p>We are not liable for circumstances beyond our control.</p>`
                }
            };
            
            infoTitle.textContent = content[type].title;
            infoContent.innerHTML = content[type].text;
            document.getElementById('info-popup').classList.add('active');
            document.body.classList.add('popup-open');
        }

        // Testimonials Auto-rotate
        function autoRotateTestimonials() {
            const scroll = document.getElementById('testimonials-scroll');
            if (scroll) {
                let scrollPosition = 0;
                setInterval(() => {
                    scrollPosition += 300;
                    if (scrollPosition >= scroll.scrollWidth) {
                        scrollPosition = 0;
                    }
                    scroll.scrollTo({ left: scrollPosition, behavior: 'smooth' });
                }, 5000);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a3ce39452268019',t:'MTc2NDAyOTA3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
